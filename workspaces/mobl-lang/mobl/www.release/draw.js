/*!
 * jQuery JavaScript Library v1.4
 * http://jquery.com/
 *
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://docs.jquery.com/License
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2010, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Jan 13 15:23:05 2010 -0500
 */
(function(aM,J){function af(){if(!ag.isReady){try{N.documentElement.doScroll("left");}catch(c){setTimeout(af,1);return;}ag.ready();}}function o(s,c){c.src?ag.ajax({url:c.src,async:false,dataType:"script"}):ag.globalEval(c.text||c.textContent||c.innerHTML||"");c.parentNode&&c.parentNode.removeChild(c);}function aZ(s,c,L,G,H,A){var w=s.length;if(typeof c==="object"){for(var K in c){aZ(s,K,c[K],G,H,L);}return s;}if(L!==J){G=!A&&G&&ag.isFunction(L);for(K=0;K<w;K++){H(s[K],c,G?L.call(s[K],K,H(s[K],c)):L,A);}return s;}return w?H(s[0],c):null;}function aB(){return(new Date).getTime();}function aS(){return false;}function ay(){return true;}function B(s,c,w){w[0].type=s;return ag.event.handle.apply(c,w);}function n(O){var M=true,L=[],H=[],K=arguments,G,A,s,c,w,P=ag.extend({},ag.data(this,"events").live);for(c in P){A=P[c];if(A.live===O.type||A.altLive&&ag.inArray(O.type,A.altLive)>-1){G=A.data;G.beforeFilter&&G.beforeFilter[O.type]&&!G.beforeFilter[O.type](O)||H.push(A.selector);}else{delete P[c];}}G=ag(O.target).closest(H,O.currentTarget);w=0;for(l=G.length;w<l;w++){for(c in P){A=P[c];s=G[w].elem;H=null;if(G[w].selector===A.selector){if(A.live==="mouseenter"||A.live==="mouseleave"){H=ag(O.relatedTarget).closest(A.selector)[0];}if(!H||H!==s){L.push({elem:s,fn:A});}}}}w=0;for(l=L.length;w<l;w++){G=L[w];O.currentTarget=G.elem;O.data=G.fn.data;if(G.fn.apply(G.elem,K)===false){M=false;break;}}return M;}function bg(s,c){return["live",s,c.replace(/\./g,"`").replace(/ /g,"&")].join(".");}function a1(c){return !c||!c.parentNode||c.parentNode.nodeType===11;}function aN(s,c){var w=0;c.each(function(){if(this.nodeName===(s[w]&&s[w].nodeName)){var H=ag.data(s[w++]),K=ag.data(this,H);if(H=H&&H.events){delete K.handle;K.events={};for(var G in H){for(var A in H[G]){ag.event.add(this,G,H[G][A],H[G][A].data);}}}}});}function aj(s,c,H){var A,G,w;if(s.length===1&&typeof s[0]==="string"&&s[0].length<512&&s[0].indexOf("<option")<0){G=true;if(w=ag.fragments[s[0]]){if(w!==1){A=w;}}}if(!A){c=c&&c[0]?c[0].ownerDocument||c[0]:N;A=c.createDocumentFragment();ag.clean(s,c,A,H);}if(G){ag.fragments[s[0]]=w?A:1;}return{fragment:A,cacheable:G};}function ar(s){for(var c=0,A,w;(A=s[c])!=null;c++){if(!ag.noData[A.nodeName.toLowerCase()]&&(w=A[aF])){delete ag.cache[w];}}}function aA(s,c){var w={};ag.each(E.concat.apply([],E.slice(0,c)),function(){w[this]=s;});return w;}function q(c){return"scrollTo" in c&&c.document?c:c.nodeType===9?c.defaultView||c.parentWindow:false;}var ag=function(s,c){return new ag.fn.init(s,c);},bh=aM.jQuery,a2=aM.$,N=aM.document,aq,aO=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,ak=/^.[^:#\[\.,]*$/,F=/\S/,r=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,d=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,aw=navigator.userAgent,b=false,au=[],az,X=Object.prototype.toString,v=Object.prototype.hasOwnProperty,h=Array.prototype.push,at=Array.prototype.slice,ap=Array.prototype.indexOf;ag.fn=ag.prototype={init:function(s,c){var A,w;if(!s){return this;}if(s.nodeType){this.context=this[0]=s;this.length=1;return this;}if(typeof s==="string"){if((A=aO.exec(s))&&(A[1]||!c)){if(A[1]){w=c?c.ownerDocument||c:N;if(s=d.exec(s)){if(ag.isPlainObject(c)){s=[N.createElement(s[1])];ag.fn.attr.call(s,c,true);}else{s=[w.createElement(s[1])];}}else{s=aj([A[1]],[w]);s=(s.cacheable?s.fragment.cloneNode(true):s.fragment).childNodes;}}else{if(c=N.getElementById(A[2])){if(c.id!==A[2]){return aq.find(s);}this.length=1;this[0]=c;}this.context=N;this.selector=s;return this;}}else{if(!c&&/^\w+$/.test(s)){this.selector=s;this.context=N;s=N.getElementsByTagName(s);}else{return !c||c.jquery?(c||aq).find(s):ag(c).find(s);}}}else{if(ag.isFunction(s)){return aq.ready(s);}}if(s.selector!==J){this.selector=s.selector;this.context=s.context;}return ag.isArray(s)?this.setArray(s):ag.makeArray(s,this);},selector:"",jquery:"1.4",length:0,size:function(){return this.length;},toArray:function(){return at.call(this,0);},get:function(c){return c==null?this.toArray():c<0?this.slice(c)[0]:this[c];},pushStack:function(s,c,w){s=ag(s||null);s.prevObject=this;s.context=this.context;if(c==="find"){s.selector=this.selector+(this.selector?" ":"")+w;}else{if(c){s.selector=this.selector+"."+c+"("+w+")";}}return s;},setArray:function(c){this.length=0;h.apply(this,c);return this;},each:function(s,c){return ag.each(this,s,c);},ready:function(c){ag.bindReady();if(ag.isReady){c.call(N,ag);}else{au&&au.push(c);}return this;},eq:function(c){return c===-1?this.slice(c):this.slice(c,+c+1);},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},slice:function(){return this.pushStack(at.apply(this,arguments),"slice",at.call(arguments).join(","));},map:function(c){return this.pushStack(ag.map(this,function(s,w){return c.call(s,w,s);}));},end:function(){return this.prevObject||ag(null);},push:h,sort:[].sort,splice:[].splice};ag.fn.init.prototype=ag.fn;ag.extend=ag.fn.extend=function(){var s=arguments[0]||{},c=1,L=arguments.length,G=false,H,A,w,K;if(typeof s==="boolean"){G=s;s=arguments[1]||{};c=2;}if(typeof s!=="object"&&!ag.isFunction(s)){s={};}if(L===c){s=this;--c;}for(;c<L;c++){if((H=arguments[c])!=null){for(A in H){w=s[A];K=H[A];if(s!==K){if(G&&K&&(ag.isPlainObject(K)||ag.isArray(K))){w=w&&(ag.isPlainObject(w)||ag.isArray(w))?w:ag.isArray(K)?[]:{};s[A]=ag.extend(G,w,K);}else{if(K!==J){s[A]=K;}}}}}}return s;};ag.extend({noConflict:function(c){aM.$=a2;if(c){aM.jQuery=bh;}return ag;},isReady:false,ready:function(){if(!ag.isReady){if(!N.body){return setTimeout(ag.ready,13);}ag.isReady=true;if(au){for(var s,c=0;s=au[c++];){s.call(N,ag);}au=null;}ag.fn.triggerHandler&&ag(N).triggerHandler("ready");}},bindReady:function(){if(!b){b=true;if(N.readyState==="complete"){return ag.ready();}if(N.addEventListener){N.addEventListener("DOMContentLoaded",az,false);aM.addEventListener("load",ag.ready,false);}else{if(N.attachEvent){N.attachEvent("onreadystatechange",az);aM.attachEvent("onload",ag.ready);var s=false;try{s=aM.frameElement==null;}catch(c){}N.documentElement.doScroll&&s&&af();}}}},isFunction:function(c){return X.call(c)==="[object Function]";},isArray:function(c){return X.call(c)==="[object Array]";},isPlainObject:function(s){if(!s||X.call(s)!=="[object Object]"||s.nodeType||s.setInterval){return false;}if(s.constructor&&!v.call(s,"constructor")&&!v.call(s.constructor.prototype,"isPrototypeOf")){return false;}var c;for(c in s){}return c===J||v.call(s,c);},isEmptyObject:function(s){for(var c in s){return false;}return true;},noop:function(){},globalEval:function(s){if(s&&F.test(s)){var c=N.getElementsByTagName("head")[0]||N.documentElement,w=N.createElement("script");w.type="text/javascript";if(ag.support.scriptEval){w.appendChild(N.createTextNode(s));}else{w.text=s;}c.insertBefore(w,c.firstChild);c.removeChild(w);}},nodeName:function(s,c){return s.nodeName&&s.nodeName.toUpperCase()===c.toUpperCase();},each:function(s,c,K){var G,H=0,A=s.length,w=A===J||ag.isFunction(s);if(K){if(w){for(G in s){if(c.apply(s[G],K)===false){break;}}}else{for(;H<A;){if(c.apply(s[H++],K)===false){break;}}}}else{if(w){for(G in s){if(c.call(s[G],G,s[G])===false){break;}}}else{for(K=s[0];H<A&&c.call(K,H,K)!==false;K=s[++H]){}}}return s;},trim:function(c){return(c||"").replace(r,"");},makeArray:function(s,c){c=c||[];if(s!=null){s.length==null||typeof s==="string"||ag.isFunction(s)||typeof s!=="function"&&s.setInterval?h.call(c,s):ag.merge(c,s);}return c;},inArray:function(s,c){if(c.indexOf){return c.indexOf(s);}for(var A=0,w=c.length;A<w;A++){if(c[A]===s){return A;}}return -1;},merge:function(s,c){var G=s.length,w=0;if(typeof c.length==="number"){for(var A=c.length;w<A;w++){s[G++]=c[w];}}else{for(;c[w]!==J;){s[G++]=c[w++];}}s.length=G;return s;},grep:function(s,c,H){for(var A=[],G=0,w=s.length;G<w;G++){!H!==!c(s[G],G)&&A.push(s[G]);}return A;},map:function(s,c,K){for(var G=[],H,A=0,w=s.length;A<w;A++){H=c(s[A],A,K);if(H!=null){G[G.length]=H;}}return G.concat.apply([],G);},guid:1,proxy:function(s,c,w){if(arguments.length===2){if(typeof c==="string"){w=s;s=w[c];c=J;}else{if(c&&!ag.isFunction(c)){w=c;c=J;}}}if(!c&&s){c=function(){return s.apply(w||this,arguments);};}if(s){c.guid=s.guid=s.guid||c.guid||ag.guid++;}return c;},uaMatch:function(s){var c={browser:""};s=s.toLowerCase();if(/webkit/.test(s)){c={browser:"webkit",version:/webkit[\/ ]([\w.]+)/};}else{if(/opera/.test(s)){c={browser:"opera",version:/version/.test(s)?/version[\/ ]([\w.]+)/:/opera[\/ ]([\w.]+)/};}else{if(/msie/.test(s)){c={browser:"msie",version:/msie ([\w.]+)/};}else{if(/mozilla/.test(s)&&!/compatible/.test(s)){c={browser:"mozilla",version:/rv:([\w.]+)/};}}}}c.version=(c.version&&c.version.exec(s)||[0,"0"])[1];return c;},browser:{}});aw=ag.uaMatch(aw);if(aw.browser){ag.browser[aw.browser]=true;ag.browser.version=aw.version;}if(ag.browser.webkit){ag.browser.safari=true;}if(ap){ag.inArray=function(s,c){return ap.call(c,s);};}aq=ag(N);if(N.addEventListener){az=function(){N.removeEventListener("DOMContentLoaded",az,false);ag.ready();};}else{if(N.attachEvent){az=function(){if(N.readyState==="complete"){N.detachEvent("onreadystatechange",az);ag.ready();}};}}if(ap){ag.inArray=function(s,c){return ap.call(c,s);};}(function(){ag.support={};var s=N.documentElement,c=N.createElement("script"),L=N.createElement("div"),G="script"+aB();L.style.display="none";L.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var H=L.getElementsByTagName("*"),A=L.getElementsByTagName("a")[0];if(!(!H||!H.length||!A)){ag.support={leadingWhitespace:L.firstChild.nodeType===3,tbody:!L.getElementsByTagName("tbody").length,htmlSerialize:!!L.getElementsByTagName("link").length,style:/red/.test(A.getAttribute("style")),hrefNormalized:A.getAttribute("href")==="/a",opacity:/^0.55$/.test(A.style.opacity),cssFloat:!!A.style.cssFloat,checkOn:L.getElementsByTagName("input")[0].value==="on",optSelected:N.createElement("select").appendChild(N.createElement("option")).selected,scriptEval:false,noCloneEvent:true,boxModel:null};c.type="text/javascript";try{c.appendChild(N.createTextNode("window."+G+"=1;"));}catch(w){}s.insertBefore(c,s.firstChild);if(aM[G]){ag.support.scriptEval=true;delete aM[G];}s.removeChild(c);if(L.attachEvent&&L.fireEvent){L.attachEvent("onclick",function K(){ag.support.noCloneEvent=false;L.detachEvent("onclick",K);});L.cloneNode(true).fireEvent("onclick");}ag(function(){var M=N.createElement("div");M.style.width=M.style.paddingLeft="1px";N.body.appendChild(M);ag.boxModel=ag.support.boxModel=M.offsetWidth===2;N.body.removeChild(M).style.display="none";});s=function(O){var M=N.createElement("div");O="on"+O;var P=O in M;if(!P){M.setAttribute(O,"return;");P=typeof M[O]==="function";}return P;};ag.support.submitBubbles=s("submit");ag.support.changeBubbles=s("change");s=c=L=H=A=null;}})();ag.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var aF="jQuery"+aB(),a5=0,a4={},aQ={};ag.extend({cache:{},expando:aF,noData:{embed:true,object:true,applet:true},data:function(s,c,G){if(!(s.nodeName&&ag.noData[s.nodeName.toLowerCase()])){s=s==aM?a4:s;var w=s[aF],A=ag.cache;if(!c&&!w){return null;}w||(w=++a5);if(typeof c==="object"){s[aF]=w;A=A[w]=ag.extend(true,{},c);}else{A=A[w]?A[w]:typeof G==="undefined"?aQ:(A[w]={});}if(G!==J){s[aF]=w;A[c]=G;}return typeof c==="string"?A[c]:A;}},removeData:function(s,c){if(!(s.nodeName&&ag.noData[s.nodeName.toLowerCase()])){s=s==aM?a4:s;var H=s[aF],A=ag.cache,G=A[H];if(c){if(G){delete G[c];ag.isEmptyObject(G)&&ag.removeData(s);}}else{try{delete s[aF];}catch(w){s.removeAttribute&&s.removeAttribute(aF);}delete A[H];}}}});ag.fn.extend({data:function(s,c){if(typeof s==="undefined"&&this.length){return ag.data(this[0]);}else{if(typeof s==="object"){return this.each(function(){ag.data(this,s);});}}var A=s.split(".");A[1]=A[1]?"."+A[1]:"";if(c===J){var w=this.triggerHandler("getData"+A[1]+"!",[A[0]]);if(w===J&&this.length){w=ag.data(this[0],s);}return w===J&&A[1]?this.data(A[0]):w;}else{return this.trigger("setData"+A[1]+"!",[A[0],c]).each(function(){ag.data(this,s,c);});}},removeData:function(c){return this.each(function(){ag.removeData(this,c);});}});ag.extend({queue:function(s,c,A){if(s){c=(c||"fx")+"queue";var w=ag.data(s,c);if(!A){return w||[];}if(!w||ag.isArray(A)){w=ag.data(s,c,ag.makeArray(A));}else{w.push(A);}return w;}},dequeue:function(s,c){c=c||"fx";var A=ag.queue(s,c),w=A.shift();if(w==="inprogress"){w=A.shift();}if(w){c==="fx"&&A.unshift("inprogress");w.call(s,function(){ag.dequeue(s,c);});}}});ag.fn.extend({queue:function(s,c){if(typeof s!=="string"){c=s;s="fx";}if(c===J){return ag.queue(this[0],s);}return this.each(function(){var w=ag.queue(this,s,c);s==="fx"&&w[0]!=="inprogress"&&ag.dequeue(this,s);});},dequeue:function(c){return this.each(function(){ag.dequeue(this,c);});},delay:function(s,c){s=ag.fx?ag.fx.speeds[s]||s:s;c=c||"fx";return this.queue(c,function(){var w=this;setTimeout(function(){ag.dequeue(w,c);},s);});},clearQueue:function(c){return this.queue(c||"fx",[]);}});var aP=/[\n\t]/g,a8=/\s+/,am=/\r/g,I=/href|src|style/,t=/(button|input)/i,f=/(button|input|object|select|textarea)/i,a6=/^(a|area)$/i,a9=/radio|checkbox/;ag.fn.extend({attr:function(s,c){return aZ(this,s,c,true,ag.attr);},removeAttr:function(c){return this.each(function(){ag.attr(this,c,"");this.nodeType===1&&this.removeAttribute(c);});},addClass:function(s){if(ag.isFunction(s)){return this.each(function(M){var O=ag(this);O.addClass(s.call(this,M,O.attr("class")));});}if(s&&typeof s==="string"){for(var c=(s||"").split(a8),L=0,G=this.length;L<G;L++){var H=this[L];if(H.nodeType===1){if(H.className){for(var A=" "+H.className+" ",w=0,K=c.length;w<K;w++){if(A.indexOf(" "+c[w]+" ")<0){H.className+=" "+c[w];}}}else{H.className=s;}}}}return this;},removeClass:function(s){if(ag.isFunction(s)){return this.each(function(M){var O=ag(this);O.removeClass(s.call(this,M,O.attr("class")));});}if(s&&typeof s==="string"||s===J){for(var c=(s||"").split(a8),L=0,G=this.length;L<G;L++){var H=this[L];if(H.nodeType===1&&H.className){if(s){for(var A=(" "+H.className+" ").replace(aP," "),w=0,K=c.length;w<K;w++){A=A.replace(" "+c[w]+" "," ");}H.className=A.substring(1,A.length-1);}else{H.className="";}}}}return this;},toggleClass:function(s,c){var A=typeof s,w=typeof c==="boolean";if(ag.isFunction(s)){return this.each(function(H){var G=ag(this);G.toggleClass(s.call(this,H,G.attr("class"),c),c);});}return this.each(function(){if(A==="string"){for(var L,H=0,G=ag(this),M=c,K=s.split(a8);L=K[H++];){M=w?M:!G.hasClass(L);G[M?"addClass":"removeClass"](L);}}else{if(A==="undefined"||A==="boolean"){this.className&&ag.data(this,"__className__",this.className);this.className=this.className||s===false?"":ag.data(this,"__className__")||"";}}});},hasClass:function(s){s=" "+s+" ";for(var c=0,w=this.length;c<w;c++){if((" "+this[c].className+" ").replace(aP," ").indexOf(s)>-1){return true;}}return false;},val:function(s){if(s===J){var c=this[0];if(c){if(ag.nodeName(c,"option")){return(c.attributes.value||{}).specified?c.value:c.text;}if(ag.nodeName(c,"select")){var L=c.selectedIndex,G=[],H=c.options;c=c.type==="select-one";if(L<0){return null;}var A=c?L:0;for(L=c?L+1:H.length;A<L;A++){var w=H[A];if(w.selected){s=ag(w).val();if(c){return s;}G.push(s);}}return G;}if(a9.test(c.type)&&!ag.support.checkOn){return c.getAttribute("value")===null?"on":c.value;}return(c.value||"").replace(am,"");}return J;}var K=ag.isFunction(s);return this.each(function(O){var Q=ag(this),M=s;if(this.nodeType===1){if(K){M=s.call(this,O,Q.val());}if(typeof M==="number"){M+="";}if(ag.isArray(M)&&a9.test(this.type)){this.checked=ag.inArray(Q.val(),M)>=0;}else{if(ag.nodeName(this,"select")){var P=ag.makeArray(M);ag("option",this).each(function(){this.selected=ag.inArray(ag(this).val(),P)>=0;});if(!P.length){this.selectedIndex=-1;}}else{this.value=M;}}}});}});ag.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(s,c,H,A){if(!s||s.nodeType===3||s.nodeType===8){return J;}if(A&&c in ag.attrFn){return ag(s)[c](H);}A=s.nodeType!==1||!ag.isXMLDoc(s);var G=H!==J;c=A&&ag.props[c]||c;if(s.nodeType===1){var w=I.test(c);if(c in s&&A&&!w){if(G){if(c==="type"&&t.test(s.nodeName)&&s.parentNode){throw"type property can't be changed";}s[c]=H;}if(ag.nodeName(s,"form")&&s.getAttributeNode(c)){return s.getAttributeNode(c).nodeValue;}if(c==="tabIndex"){return(c=s.getAttributeNode("tabIndex"))&&c.specified?c.value:f.test(s.nodeName)||a6.test(s.nodeName)&&s.href?0:J;}return s[c];}if(!ag.support.style&&A&&c==="style"){if(G){s.style.cssText=""+H;}return s.style.cssText;}G&&s.setAttribute(c,""+H);s=!ag.support.hrefNormalized&&A&&w?s.getAttribute(c,2):s.getAttribute(c);return s===null?J:s;}return ag.style(s,c,H);}});var aK=function(c){return c.replace(/[^\w\s\.\|`]/g,function(s){return"\\"+s;});};ag.event={add:function(P,O,L,H){if(!(P.nodeType===3||P.nodeType===8)){if(P.setInterval&&P!==aM&&!P.frameElement){P=aM;}if(!L.guid){L.guid=ag.guid++;}if(H!==J){L=ag.proxy(L);L.data=H;}var K=ag.data(P,"events")||ag.data(P,"events",{}),G=ag.data(P,"handle"),A;if(!G){A=function(){return typeof ag!=="undefined"&&!ag.event.triggered?ag.event.handle.apply(A.elem,arguments):J;};G=ag.data(P,"handle",A);}if(G){G.elem=P;O=O.split(/\s+/);for(var s,c=0;s=O[c++];){var w=s.split(".");s=w.shift();L.type=w.slice(0).sort().join(".");var Q=K[s],M=this.special[s]||{};if(!Q){Q=K[s]={};if(!M.setup||M.setup.call(P,H,w,L)===false){if(P.addEventListener){P.addEventListener(s,G,false);}else{P.attachEvent&&P.attachEvent("on"+s,G);}}}if(M.add){if((w=M.add.call(P,L,H,w,Q))&&ag.isFunction(w)){w.guid=w.guid||L.guid;L=w;}}Q[L.guid]=L;this.global[s]=true;}P=null;}}},global:{},remove:function(Q,P,M){if(!(Q.nodeType===3||Q.nodeType===8)){var K=ag.data(Q,"events"),L,H,G;if(K){if(P===J||typeof P==="string"&&P.charAt(0)==="."){for(H in K){this.remove(Q,H+(P||""));}}else{if(P.type){M=P.handler;P=P.type;}P=P.split(/\s+/);for(var w=0;H=P[w++];){var s=H.split(".");H=s.shift();var A=!s.length,R=ag.map(s.slice(0).sort(),aK);R=new RegExp("(^|\\.)"+R.join("\\.(?:.*\\.)?")+"(\\.|$)");var O=this.special[H]||{};if(K[H]){if(M){G=K[H][M.guid];delete K[H][M.guid];}else{for(var c in K[H]){if(A||R.test(K[H][c].type)){delete K[H][c];}}}O.remove&&O.remove.call(Q,s,G);for(L in K[H]){break;}if(!L){if(!O.teardown||O.teardown.call(Q,s)===false){if(Q.removeEventListener){Q.removeEventListener(H,ag.data(Q,"handle"),false);}else{Q.detachEvent&&Q.detachEvent("on"+H,ag.data(Q,"handle"));}}L=null;delete K[H];}}}}for(L in K){break;}if(!L){if(c=ag.data(Q,"handle")){c.elem=null;}ag.removeData(Q,"events");ag.removeData(Q,"handle");}}}},trigger:function(O,M,L,H){var K=O.type||O;if(!H){O=typeof O==="object"?O[aF]?O:ag.extend(ag.Event(K),O):ag.Event(K);if(K.indexOf("!")>=0){O.type=K=K.slice(0,-1);O.exclusive=true;}if(!L){O.stopPropagation();this.global[K]&&ag.each(ag.cache,function(){this.events&&this.events[K]&&ag.event.trigger(O,M,this.handle.elem);});}if(!L||L.nodeType===3||L.nodeType===8){return J;}O.result=J;O.target=L;M=ag.makeArray(M);M.unshift(O);}O.currentTarget=L;var G=ag.data(L,"handle");G&&G.apply(L,M);var A,s;try{if(!(L&&L.nodeName&&ag.noData[L.nodeName.toLowerCase()])){A=L[K];s=L["on"+K];}}catch(c){}G=ag.nodeName(L,"a")&&K==="click";if(!H&&A&&!O.isDefaultPrevented()&&!G){this.triggered=true;try{L[K]();}catch(w){}}else{if(s&&L["on"+K].apply(L,M)===false){O.result=false;}}this.triggered=false;if(!O.isPropagationStopped()){(L=L.parentNode||L.ownerDocument)&&ag.event.trigger(O,M,L,true);}},handle:function(s){var c,H;s=arguments[0]=ag.event.fix(s||aM.event);s.currentTarget=this;H=s.type.split(".");s.type=H.shift();c=!H.length&&!s.exclusive;var A=new RegExp("(^|\\.)"+H.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)");H=(ag.data(this,"events")||{})[s.type];for(var G in H){var w=H[G];if(c||A.test(w.type)){s.handler=w;s.data=w.data;w=w.apply(this,arguments);if(w!==J){s.result=w;if(w===false){s.preventDefault();s.stopPropagation();}}if(s.isImmediatePropagationStopped()){break;}}}return s.result;},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(s){if(s[aF]){return s;}var c=s;s=ag.Event(c);for(var A=this.props.length,w;A;){w=this.props[--A];s[w]=c[w];}if(!s.target){s.target=s.srcElement||N;}if(s.target.nodeType===3){s.target=s.target.parentNode;}if(!s.relatedTarget&&s.fromElement){s.relatedTarget=s.fromElement===s.target?s.toElement:s.fromElement;}if(s.pageX==null&&s.clientX!=null){c=N.documentElement;A=N.body;s.pageX=s.clientX+(c&&c.scrollLeft||A&&A.scrollLeft||0)-(c&&c.clientLeft||A&&A.clientLeft||0);s.pageY=s.clientY+(c&&c.scrollTop||A&&A.scrollTop||0)-(c&&c.clientTop||A&&A.clientTop||0);}if(!s.which&&(s.charCode||s.charCode===0?s.charCode:s.keyCode)){s.which=s.charCode||s.keyCode;}if(!s.metaKey&&s.ctrlKey){s.metaKey=s.ctrlKey;}if(!s.which&&s.button!==J){s.which=s.button&1?1:s.button&2?3:s.button&4?2:0;}return s;},guid:100000000,proxy:ag.proxy,special:{ready:{setup:ag.bindReady,teardown:ag.noop},live:{add:function(s,c){ag.extend(s,c||{});s.guid+=c.selector+c.live;ag.event.add(this,c.live,n,c);},remove:function(s){if(s.length){var c=0,w=new RegExp("(^|\\.)"+s[0]+"(\\.|$)");ag.each(ag.data(this,"events").live||{},function(){w.test(this.type)&&c++;});c<1&&ag.event.remove(this,s[0],n);}},special:{}},beforeunload:{setup:function(s,c,w){if(this.setInterval){this.onbeforeunload=w;}return false;},teardown:function(s,c){if(this.onbeforeunload===c){this.onbeforeunload=null;}}}}};ag.Event=function(c){if(!this.preventDefault){return new ag.Event(c);}if(c&&c.type){this.originalEvent=c;this.type=c.type;}else{this.type=c;}this.timeStamp=aB();this[aF]=true;};ag.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ay;var c=this.originalEvent;if(c){c.preventDefault&&c.preventDefault();c.returnValue=false;}},stopPropagation:function(){this.isPropagationStopped=ay;var c=this.originalEvent;if(c){c.stopPropagation&&c.stopPropagation();c.cancelBubble=true;}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ay;this.stopPropagation();},isDefaultPrevented:aS,isPropagationStopped:aS,isImmediatePropagationStopped:aS};var aV=function(s){for(var c=s.relatedTarget;c&&c!==this;){try{c=c.parentNode;}catch(w){break;}}if(c!==this){s.type=s.data;ag.event.handle.apply(this,arguments);}},aE=function(c){c.type=c.data;ag.event.handle.apply(this,arguments);};ag.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(s,c){ag.event.special[s]={setup:function(w){ag.event.add(this,c,w&&w.selector?aE:aV,s);},teardown:function(w){ag.event.remove(this,c,w&&w.selector?aE:aV);}};});if(!ag.support.submitBubbles){ag.event.special.submit={setup:function(s,c,w){if(this.nodeName.toLowerCase()!=="form"){ag.event.add(this,"click.specialSubmit."+w.guid,function(G){var H=G.target,A=H.type;if((A==="submit"||A==="image")&&ag(H).closest("form").length){return B("submit",this,arguments);}});ag.event.add(this,"keypress.specialSubmit."+w.guid,function(G){var H=G.target,A=H.type;if((A==="text"||A==="password")&&ag(H).closest("form").length&&G.keyCode===13){return B("submit",this,arguments);}});}else{return false;}},remove:function(s,c){ag.event.remove(this,"click.specialSubmit"+(c?"."+c.guid:""));ag.event.remove(this,"keypress.specialSubmit"+(c?"."+c.guid:""));}};}if(!ag.support.changeBubbles){var aU=/textarea|input|select/i;function ad(s){var c=s.type,w=s.value;if(c==="radio"||c==="checkbox"){w=s.checked;}else{if(c==="select-multiple"){w=s.selectedIndex>-1?ag.map(s.options,function(A){return A.selected;}).join("-"):"";}else{if(s.nodeName.toLowerCase()==="select"){w=s.selectedIndex;}}}return w;}function aD(s,c){var G=s.target,w,A;if(!(!aU.test(G.nodeName)||G.readOnly)){w=ag.data(G,"_change_data");A=ad(G);if(A!==w){if(s.type!=="focusout"||G.type!=="radio"){ag.data(G,"_change_data",A);}if(G.type!=="select"&&(w!=null||A)){s.type="change";return ag.event.trigger(s,c,this);}}}}ag.event.special.change={filters:{focusout:aD,click:function(s){var c=s.target,w=c.type;if(w==="radio"||w==="checkbox"||c.nodeName.toLowerCase()==="select"){return aD.call(this,s);}},keydown:function(s){var c=s.target,w=c.type;if(s.keyCode===13&&c.nodeName.toLowerCase()!=="textarea"||s.keyCode===32&&(w==="checkbox"||w==="radio")||w==="select-multiple"){return aD.call(this,s);}},beforeactivate:function(c){c=c.target;c.nodeName.toLowerCase()==="input"&&c.type==="radio"&&ag.data(c,"_change_data",ad(c));}},setup:function(s,c,A){for(var w in ao){ag.event.add(this,w+".specialChange."+A.guid,ao[w]);}return aU.test(this.nodeName);},remove:function(s,c){for(var w in ao){ag.event.remove(this,w+".specialChange"+(c?"."+c.guid:""),ao[w]);}return aU.test(this.nodeName);}};var ao=ag.event.special.change.filters;}N.addEventListener&&ag.each({focus:"focusin",blur:"focusout"},function(s,c){function w(A){A=ag.event.fix(A);A.type=c;return ag.event.handle.call(this,A);}ag.event.special[c]={setup:function(){this.addEventListener(s,w,true);},teardown:function(){this.removeEventListener(s,w,true);}};});ag.each(["bind","one"],function(s,c){ag.fn[c]=function(K,G,H){if(typeof K==="object"){for(var A in K){this[c](A,G,K[A],H);}return this;}if(ag.isFunction(G)){thisObject=H;H=G;G=J;}var w=c==="one"?ag.proxy(H,function(L){ag(this).unbind(L,w);return H.apply(this,arguments);}):H;return K==="unload"&&c!=="one"?this.one(K,G,H,thisObject):this.each(function(){ag.event.add(this,K,w,G);});};});ag.fn.extend({unbind:function(s,c){if(typeof s==="object"&&!s.preventDefault){for(var w in s){this.unbind(w,s[w]);}return this;}return this.each(function(){ag.event.remove(this,s,c);});},trigger:function(s,c){return this.each(function(){ag.event.trigger(s,c,this);});},triggerHandler:function(s,c){if(this[0]){s=ag.Event(s);s.preventDefault();s.stopPropagation();ag.event.trigger(s,c,this[0]);return s.result;}},toggle:function(s){for(var c=arguments,w=1;w<c.length;){ag.proxy(s,c[w++]);}return this.click(ag.proxy(s,function(A){var G=(ag.data(this,"lastToggle"+s.guid)||0)%w;ag.data(this,"lastToggle"+s.guid,G+1);A.preventDefault();return c[G].apply(this,arguments)||false;}));},hover:function(s,c){return this.mouseenter(s).mouseleave(c||s);},live:function(s,c,w){if(ag.isFunction(c)){w=c;c=J;}ag(this.context).bind(bg(s,this.selector),{data:c,selector:this.selector,live:s},w);return this;},die:function(s,c){ag(this.context).unbind(bg(s,this.selector),c?{guid:c.guid+this.selector+s}:null);return this;}});ag.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(s,c){ag.fn[c]=function(w){return w?this.bind(c,w):this.trigger(c);};if(ag.attrFn){ag.attrFn[c]=true;}});aM.attachEvent&&!aM.addEventListener&&aM.attachEvent("onunload",function(){for(var s in ag.cache){if(ag.cache[s].handle){try{ag.event.remove(ag.cache[s].handle.elem);}catch(c){}}}});(function(){function Y(ba){for(var ab="",aa,Z=0;ba[Z];Z++){aa=ba[Z];if(aa.nodeType===3||aa.nodeType===4){ab+=aa.nodeValue;}else{if(aa.nodeType!==8){ab+=Y(aa.childNodes);}}}return ab;}function W(bi,bb,ba,ab,Z,aa){Z=0;for(var bk=ab.length;Z<bk;Z++){var bl=ab[Z];if(bl){bl=bl[bi];for(var bj=false;bl;){if(bl.sizcache===ba){bj=ab[bl.sizset];break;}if(bl.nodeType===1&&!aa){bl.sizcache=ba;bl.sizset=Z;}if(bl.nodeName.toLowerCase()===bb){bj=bl;break;}bl=bl[bi];}ab[Z]=bj;}}}function V(bi,bb,ba,ab,Z,aa){Z=0;for(var bk=ab.length;Z<bk;Z++){var bl=ab[Z];if(bl){bl=bl[bi];for(var bj=false;bl;){if(bl.sizcache===ba){bj=ab[bl.sizset];break;}if(bl.nodeType===1){if(!aa){bl.sizcache=ba;bl.sizset=Z;}if(typeof bb!=="string"){if(bl===bb){bj=true;break;}}else{if(L.filter(bb,[bl]).length>0){bj=bl;break;}}}bl=bl[bi];}ab[Z]=bj;}}}var T=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,U=0,R=Object.prototype.toString,Q=false,M=true;[0,0].sort(function(){M=false;return 0;});var L=function(bj,bi,ba,ab){ba=ba||[];var Z=bi=bi||N;if(bi.nodeType!==1&&bi.nodeType!==9){return[];}if(!bj||typeof bj!=="string"){return ba;}for(var aa=[],bo,bp,bl,bb,bn=true,bk=s(bi),bm=bj;(T.exec(""),bo=T.exec(bm))!==null;){bm=bo[3];aa.push(bo[1]);if(bo[2]){bb=bo[3];break;}}if(aa.length>1&&A.exec(bj)){if(aa.length===2&&O.relative[aa[0]]){bp=P(aa[0]+aa[1],bi);}else{for(bp=O.relative[aa[0]]?[bi]:L(aa.shift(),bi);aa.length;){bj=aa.shift();if(O.relative[bj]){bj+=aa.shift();}bp=P(bj,bp);}}}else{if(!ab&&aa.length>1&&bi.nodeType===9&&!bk&&O.match.ID.test(aa[0])&&!O.match.ID.test(aa[aa.length-1])){bo=L.find(aa.shift(),bi,bk);bi=bo.expr?L.filter(bo.expr,bo.set)[0]:bo.set[0];}if(bi){bo=ab?{expr:aa.pop(),set:K(ab)}:L.find(aa.pop(),aa.length===1&&(aa[0]==="~"||aa[0]==="+")&&bi.parentNode?bi.parentNode:bi,bk);bp=bo.expr?L.filter(bo.expr,bo.set):bo.set;if(aa.length>0){bl=K(bp);}else{bn=false;}for(;aa.length;){var bq=aa.pop();bo=bq;if(O.relative[bq]){bo=aa.pop();}else{bq="";}if(bo==null){bo=bi;}O.relative[bq](bl,bo,bk);}}else{bl=[];}}bl||(bl=bp);if(!bl){throw"Syntax error, unrecognized expression: "+(bq||bj);}if(R.call(bl)==="[object Array]"){if(bn){if(bi&&bi.nodeType===1){for(bj=0;bl[bj]!=null;bj++){if(bl[bj]&&(bl[bj]===true||bl[bj].nodeType===1&&w(bi,bl[bj]))){ba.push(bp[bj]);}}}else{for(bj=0;bl[bj]!=null;bj++){bl[bj]&&bl[bj].nodeType===1&&ba.push(bp[bj]);}}}else{ba.push.apply(ba,bl);}}else{K(bl,ba);}if(bb){L(bb,Z,ba,ab);L.uniqueSort(ba);}return ba;};L.uniqueSort=function(aa){if(G){Q=M;aa.sort(G);if(Q){for(var Z=1;Z<aa.length;Z++){aa[Z]===aa[Z-1]&&aa.splice(Z--,1);}}}return aa;};L.matches=function(aa,Z){return L(aa,null,null,Z);};L.find=function(bi,bb,ba){var ab,Z;if(!bi){return[];}for(var aa=0,bk=O.order.length;aa<bk;aa++){var bl=O.order[aa];if(Z=O.leftMatch[bl].exec(bi)){var bj=Z[1];Z.splice(1,1);if(bj.substr(bj.length-1)!=="\\"){Z[1]=(Z[1]||"").replace(/\\/g,"");ab=O.find[bl](Z,bb,ba);if(ab!=null){bi=bi.replace(O.match[bl],"");break;}}}}ab||(ab=bb.getElementsByTagName("*"));return{set:ab,expr:bi};};L.filter=function(bk,bj,bb,ba){for(var Z=bk,aa=[],bq=bj,br,bm,bi=bj&&bj[0]&&s(bj[0]);bk&&bj.length;){for(var bp in O.filter){if((br=O.leftMatch[bp].exec(bk))!=null&&br[2]){var bl=O.filter[bp],bo,bs;bs=br[1];bm=false;br.splice(1,1);if(bs.substr(bs.length-1)!=="\\"){if(bq===aa){aa=[];}if(O.preFilter[bp]){if(br=O.preFilter[bp](br,bq,bb,aa,ba,bi)){if(br===true){continue;}}else{bm=bo=true;}}if(br){for(var ab=0;(bs=bq[ab])!=null;ab++){if(bs){bo=bl(bs,br,ab,bq);var bn=ba^!!bo;if(bb&&bo!=null){if(bn){bm=true;}else{bq[ab]=false;}}else{if(bn){aa.push(bs);bm=true;}}}}}if(bo!==J){bb||(bq=aa);bk=bk.replace(O.match[bp],"");if(!bm){return[];}break;}}}}if(bk===Z){if(bm==null){throw"Syntax error, unrecognized expression: "+bk;}else{break;}}Z=bk;}return bq;};var O=L.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(Z){return Z.getAttribute("href");}},relative:{"+":function(bb,ab){var aa=typeof ab==="string",Z=aa&&!/\W/.test(ab);aa=aa&&!Z;if(Z){ab=ab.toLowerCase();}Z=0;for(var ba=bb.length,bi;Z<ba;Z++){if(bi=bb[Z]){for(;(bi=bi.previousSibling)&&bi.nodeType!==1;){}bb[Z]=aa||bi&&bi.nodeName.toLowerCase()===ab?bi||false:bi===ab;}}aa&&L.filter(ab,bb,true);},">":function(bb,ab){var aa=typeof ab==="string";if(aa&&!/\W/.test(ab)){ab=ab.toLowerCase();for(var Z=0,ba=bb.length;Z<ba;Z++){var bi=bb[Z];if(bi){aa=bi.parentNode;bb[Z]=aa.nodeName.toLowerCase()===ab?aa:false;}}}else{Z=0;for(ba=bb.length;Z<ba;Z++){if(bi=bb[Z]){bb[Z]=aa?bi.parentNode:bi.parentNode===ab;}}aa&&L.filter(ab,bb,true);}},"":function(bb,ab,aa){var Z=U++,ba=V;if(typeof ab==="string"&&!/\W/.test(ab)){var bi=ab=ab.toLowerCase();ba=W;}ba("parentNode",ab,Z,bb,bi,aa);},"~":function(bb,ab,aa){var Z=U++,ba=V;if(typeof ab==="string"&&!/\W/.test(ab)){var bi=ab=ab.toLowerCase();ba=W;}ba("previousSibling",ab,Z,bb,bi,aa);}},find:{ID:function(ab,aa,Z){if(typeof aa.getElementById!=="undefined"&&!Z){return(ab=aa.getElementById(ab[1]))?[ab]:[];}},NAME:function(bb,ab){if(typeof ab.getElementsByName!=="undefined"){var aa=[];ab=ab.getElementsByName(bb[1]);for(var Z=0,ba=ab.length;Z<ba;Z++){ab[Z].getAttribute("name")===bb[1]&&aa.push(ab[Z]);}return aa.length===0?null:aa;}},TAG:function(aa,Z){return Z.getElementsByTagName(aa[1]);}},preFilter:{CLASS:function(bi,ba,ab,Z,bb,bj){bi=" "+bi[1].replace(/\\/g,"")+" ";if(bj){return bi;}bj=0;for(var aa;(aa=ba[bj])!=null;bj++){if(aa){if(bb^(aa.className&&(" "+aa.className+" ").replace(/[\t\n]/g," ").indexOf(bi)>=0)){ab||Z.push(aa);}else{if(ab){ba[bj]=false;}}}}return false;},ID:function(Z){return Z[1].replace(/\\/g,"");},TAG:function(Z){return Z[1].toLowerCase();},CHILD:function(aa){if(aa[1]==="nth"){var Z=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(aa[2]==="even"&&"2n"||aa[2]==="odd"&&"2n+1"||!/\D/.test(aa[2])&&"0n+"+aa[2]||aa[2]);aa[2]=Z[1]+(Z[2]||1)-0;aa[3]=Z[3]-0;}aa[0]=U++;return aa;},ATTR:function(bb,ab,aa,Z,ba,bi){ab=bb[1].replace(/\\/g,"");if(!bi&&O.attrMap[ab]){bb[1]=O.attrMap[ab];}if(bb[2]==="~="){bb[4]=" "+bb[4]+" ";}return bb;},PSEUDO:function(bb,ab,aa,Z,ba){if(bb[1]==="not"){if((T.exec(bb[3])||"").length>1||/^\w/.test(bb[3])){bb[3]=L(bb[3],null,null,ab);}else{bb=L.filter(bb[3],ab,aa,true^ba);aa||Z.push.apply(Z,bb);return false;}}else{if(O.match.POS.test(bb[0])||O.match.CHILD.test(bb[0])){return true;}}return bb;},POS:function(Z){Z.unshift(true);return Z;}},filters:{enabled:function(Z){return Z.disabled===false&&Z.type!=="hidden";},disabled:function(Z){return Z.disabled===true;},checked:function(Z){return Z.checked===true;},selected:function(Z){return Z.selected===true;},parent:function(Z){return !!Z.firstChild;},empty:function(Z){return !Z.firstChild;},has:function(ab,aa,Z){return !!L(Z[3],ab).length;},header:function(Z){return/h\d/i.test(Z.nodeName);},text:function(Z){return"text"===Z.type;},radio:function(Z){return"radio"===Z.type;},checkbox:function(Z){return"checkbox"===Z.type;},file:function(Z){return"file"===Z.type;},password:function(Z){return"password"===Z.type;},submit:function(Z){return"submit"===Z.type;},image:function(Z){return"image"===Z.type;},reset:function(Z){return"reset"===Z.type;},button:function(Z){return"button"===Z.type||Z.nodeName.toLowerCase()==="button";},input:function(Z){return/input|select|textarea|button/i.test(Z.nodeName);}},setFilters:{first:function(aa,Z){return Z===0;},last:function(ba,ab,aa,Z){return ab===Z.length-1;},even:function(aa,Z){return Z%2===0;},odd:function(aa,Z){return Z%2===1;},lt:function(ab,aa,Z){return aa<Z[3]-0;},gt:function(ab,aa,Z){return aa>Z[3]-0;},nth:function(ab,aa,Z){return Z[3]-0===aa;},eq:function(ab,aa,Z){return Z[3]-0===aa;}},filter:{PSEUDO:function(bb,ab,aa,Z){var ba=ab[1],bi=O.filters[ba];if(bi){return bi(bb,aa,ab,Z);}else{if(ba==="contains"){return(bb.textContent||bb.innerText||Y([bb])||"").indexOf(ab[3])>=0;}else{if(ba==="not"){ab=ab[3];aa=0;for(Z=ab.length;aa<Z;aa++){if(ab[aa]===bb){return false;}}return true;}else{throw"Syntax error, unrecognized expression: "+ba;}}}},CHILD:function(bi,ba){var ab=ba[1],Z=bi;switch(ab){case"only":case"first":for(;Z=Z.previousSibling;){if(Z.nodeType===1){return false;}}if(ab==="first"){return true;}Z=bi;case"last":for(;Z=Z.nextSibling;){if(Z.nodeType===1){return false;}}return true;case"nth":ab=ba[2];var bb=ba[3];if(ab===1&&bb===0){return true;}ba=ba[0];var bj=bi.parentNode;if(bj&&(bj.sizcache!==ba||!bi.nodeIndex)){var aa=0;for(Z=bj.firstChild;Z;Z=Z.nextSibling){if(Z.nodeType===1){Z.nodeIndex=++aa;}}bj.sizcache=ba;}bi=bi.nodeIndex-bb;return ab===0?bi===0:bi%ab===0&&bi/ab>=0;}},ID:function(aa,Z){return aa.nodeType===1&&aa.getAttribute("id")===Z;},TAG:function(aa,Z){return Z==="*"&&aa.nodeType===1||aa.nodeName.toLowerCase()===Z;},CLASS:function(aa,Z){return(" "+(aa.className||aa.getAttribute("class"))+" ").indexOf(Z)>-1;},ATTR:function(ba,ab){var aa=ab[1];ba=O.attrHandle[aa]?O.attrHandle[aa](ba):ba[aa]!=null?ba[aa]:ba.getAttribute(aa);aa=ba+"";var Z=ab[2];ab=ab[4];return ba==null?Z==="!=":Z==="="?aa===ab:Z==="*="?aa.indexOf(ab)>=0:Z==="~="?(" "+aa+" ").indexOf(ab)>=0:!ab?aa&&ba!==false:Z==="!="?aa!==ab:Z==="^="?aa.indexOf(ab)===0:Z==="$="?aa.substr(aa.length-ab.length)===ab:Z==="|="?aa===ab||aa.substr(0,ab.length+1)===ab+"-":false;},POS:function(bb,ab,aa,Z){var ba=O.setFilters[ab[2]];if(ba){return ba(bb,aa,ab,Z);}}}},A=O.match.POS;for(var c in O.match){O.match[c]=new RegExp(O.match[c].source+/(?![^\[]*\])(?![^\(]*\))/.source);O.leftMatch[c]=new RegExp(/(^(?:.|\r|\n)*?)/.source+O.match[c].source.replace(/\\(\d+)/g,function(aa,Z){return"\\"+(Z-0+1);}));}var K=function(aa,Z){aa=Array.prototype.slice.call(aa,0);if(Z){Z.push.apply(Z,aa);return Z;}return aa;};try{Array.prototype.slice.call(N.documentElement.childNodes,0);}catch(H){K=function(ba,ab){ab=ab||[];if(R.call(ba)==="[object Array]"){Array.prototype.push.apply(ab,ba);}else{if(typeof ba.length==="number"){for(var aa=0,Z=ba.length;aa<Z;aa++){ab.push(ba[aa]);}}else{for(aa=0;ba[aa];aa++){ab.push(ba[aa]);}}}return ab;};}var G;if(N.documentElement.compareDocumentPosition){G=function(aa,Z){if(!aa.compareDocumentPosition||!Z.compareDocumentPosition){if(aa==Z){Q=true;}return aa.compareDocumentPosition?-1:1;}aa=aa.compareDocumentPosition(Z)&4?-1:aa===Z?0:1;if(aa===0){Q=true;}return aa;};}else{if("sourceIndex" in N.documentElement){G=function(aa,Z){if(!aa.sourceIndex||!Z.sourceIndex){if(aa==Z){Q=true;}return aa.sourceIndex?-1:1;}aa=aa.sourceIndex-Z.sourceIndex;if(aa===0){Q=true;}return aa;};}else{if(N.createRange){G=function(ba,ab){if(!ba.ownerDocument||!ab.ownerDocument){if(ba==ab){Q=true;}return ba.ownerDocument?-1:1;}var aa=ba.ownerDocument.createRange(),Z=ab.ownerDocument.createRange();aa.setStart(ba,0);aa.setEnd(ba,0);Z.setStart(ab,0);Z.setEnd(ab,0);ba=aa.compareBoundaryPoints(Range.START_TO_END,Z);if(ba===0){Q=true;}return ba;};}}}(function(){var ab=N.createElement("div"),aa="script"+(new Date).getTime();ab.innerHTML="<a name='"+aa+"'/>";var Z=N.documentElement;Z.insertBefore(ab,Z.firstChild);if(N.getElementById(aa)){O.find.ID=function(ba,bb,bi){if(typeof bb.getElementById!=="undefined"&&!bi){return(bb=bb.getElementById(ba[1]))?bb.id===ba[1]||typeof bb.getAttributeNode!=="undefined"&&bb.getAttributeNode("id").nodeValue===ba[1]?[bb]:J:[];}};O.filter.ID=function(ba,bb){var bi=typeof ba.getAttributeNode!=="undefined"&&ba.getAttributeNode("id");return ba.nodeType===1&&bi&&bi.nodeValue===bb;};}Z.removeChild(ab);Z=ab=null;})();(function(){var Z=N.createElement("div");Z.appendChild(N.createComment(""));if(Z.getElementsByTagName("*").length>0){O.find.TAG=function(ba,ab){ab=ab.getElementsByTagName(ba[1]);if(ba[1]==="*"){ba=[];for(var aa=0;ab[aa];aa++){ab[aa].nodeType===1&&ba.push(ab[aa]);}ab=ba;}return ab;};}Z.innerHTML="<a href='#'></a>";if(Z.firstChild&&typeof Z.firstChild.getAttribute!=="undefined"&&Z.firstChild.getAttribute("href")!=="#"){O.attrHandle.href=function(aa){return aa.getAttribute("href",2);};}Z=null;})();N.querySelectorAll&&function(){var ab=L,aa=N.createElement("div");aa.innerHTML="<p class='TEST'></p>";if(!(aa.querySelectorAll&&aa.querySelectorAll(".TEST").length===0)){L=function(ba,bj,bk,bb){bj=bj||N;if(!bb&&bj.nodeType===9&&!s(bj)){try{return K(bj.querySelectorAll(ba),bk);}catch(bi){}}return ab(ba,bj,bk,bb);};for(var Z in ab){L[Z]=ab[Z];}aa=null;}}();(function(){var Z=N.createElement("div");Z.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!Z.getElementsByClassName||Z.getElementsByClassName("e").length===0)){Z.lastChild.className="e";if(Z.getElementsByClassName("e").length!==1){O.order.splice(1,0,"CLASS");O.find.CLASS=function(ba,ab,aa){if(typeof ab.getElementsByClassName!=="undefined"&&!aa){return ab.getElementsByClassName(ba[1]);}};Z=null;}}})();var w=N.compareDocumentPosition?function(aa,Z){return aa.compareDocumentPosition(Z)&16;}:function(aa,Z){return aa!==Z&&(aa.contains?aa.contains(Z):true);},s=function(Z){return(Z=(Z?Z.ownerDocument||Z:0).documentElement)?Z.nodeName!=="HTML":false;},P=function(bb,ab){var aa=[],Z="",ba;for(ab=ab.nodeType?[ab]:ab;ba=O.match.PSEUDO.exec(bb);){Z+=ba[0];bb=bb.replace(O.match.PSEUDO,"");}bb=O.relative[bb]?bb+"*":bb;ba=0;for(var bi=ab.length;ba<bi;ba++){L(bb,ab[ba],aa);}return L.filter(Z,aa);};ag.find=L;ag.expr=L.selectors;ag.expr[":"]=ag.expr.filters;ag.unique=L.uniqueSort;ag.getText=Y;ag.isXMLDoc=s;ag.contains=w;})();var aR=/Until$/,av=/^(?:parents|prevUntil|prevAll)/,S=/,/;at=Array.prototype.slice;var k=function(s,c,A){if(ag.isFunction(c)){return ag.grep(s,function(H,G){return !!c.call(H,G,H)===A;});}else{if(c.nodeType){return ag.grep(s,function(G){return G===c===A;});}else{if(typeof c==="string"){var w=ag.grep(s,function(G){return G.nodeType===1;});if(ak.test(c)){return ag.filter(c,w,!A);}else{c=ag.filter(c,s);}}}}return ag.grep(s,function(G){return ag.inArray(G,c)>=0===A;});};ag.fn.extend({find:function(s){for(var c=this.pushStack("","find",s),K=0,G=0,H=this.length;G<H;G++){K=c.length;ag.find(s,this[G],c);if(G>0){for(var A=K;A<c.length;A++){for(var w=0;w<K;w++){if(c[w]===c[A]){c.splice(A--,1);break;}}}}}return c;},has:function(s){var c=ag(s);return this.filter(function(){for(var A=0,w=c.length;A<w;A++){if(ag.contains(this,c[A])){return true;}}});},not:function(c){return this.pushStack(k(this,c,false),"not",c);},filter:function(c){return this.pushStack(k(this,c,true),"filter",c);},is:function(c){return !!c&&ag.filter(c,this).length>0;},closest:function(M,L){if(ag.isArray(M)){var K=[],G=this[0],H,A={},w;if(G&&M.length){H=0;for(var s=M.length;H<s;H++){w=M[H];A[w]||(A[w]=ag.expr.match.POS.test(w)?ag(w,L||this.context):w);}for(;G&&G.ownerDocument&&G!==L;){for(w in A){H=A[w];if(H.jquery?H.index(G)>-1:ag(G).is(H)){K.push({selector:w,elem:G});delete A[w];}}G=G.parentNode;}}return K;}var c=ag.expr.match.POS.test(M)?ag(M,L||this.context):null;return this.map(function(P,O){for(;O&&O.ownerDocument&&O!==L;){if(c?c.index(O)>-1:ag(O).is(M)){return O;}O=O.parentNode;}return null;});},index:function(c){if(!c||typeof c==="string"){return ag.inArray(this[0],c?ag(c):this.parent().children());}return ag.inArray(c.jquery?c[0]:c,this);},add:function(s,c){s=typeof s==="string"?ag(s,c||this.context):ag.makeArray(s);c=ag.merge(this.get(),s);return this.pushStack(a1(s[0])||a1(c[0])?c:ag.unique(c));},andSelf:function(){return this.add(this.prevObject);}});ag.each({parent:function(c){return(c=c.parentNode)&&c.nodeType!==11?c:null;},parents:function(c){return ag.dir(c,"parentNode");},parentsUntil:function(s,c,w){return ag.dir(s,"parentNode",w);},next:function(c){return ag.nth(c,2,"nextSibling");},prev:function(c){return ag.nth(c,2,"previousSibling");},nextAll:function(c){return ag.dir(c,"nextSibling");},prevAll:function(c){return ag.dir(c,"previousSibling");},nextUntil:function(s,c,w){return ag.dir(s,"nextSibling",w);},prevUntil:function(s,c,w){return ag.dir(s,"previousSibling",w);},siblings:function(c){return ag.sibling(c.parentNode.firstChild,c);},children:function(c){return ag.sibling(c.firstChild);},contents:function(c){return ag.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:ag.makeArray(c.childNodes);}},function(s,c){ag.fn[s]=function(G,w){var A=ag.map(this,c,G);aR.test(s)||(w=G);if(w&&typeof w==="string"){A=ag.filter(w,A);}A=this.length>1?ag.unique(A):A;if((this.length>1||S.test(w))&&av.test(s)){A=A.reverse();}return this.pushStack(A,s,at.call(arguments).join(","));};});ag.extend({filter:function(s,c,w){if(w){s=":not("+s+")";}return ag.find.matches(s,c);},dir:function(s,c,A){var w=[];for(s=s[c];s&&s.nodeType!==9&&(A===J||!ag(s).is(A));){s.nodeType===1&&w.push(s);s=s[c];}return w;},nth:function(s,c,A){c=c||1;for(var w=0;s;s=s[A]){if(s.nodeType===1&&++w===c){break;}}return s;},sibling:function(s,c){for(var w=[];s;s=s.nextSibling){s.nodeType===1&&s!==c&&w.push(s);}return w;}});var be=/ jQuery\d+="(?:\d+|null)"/g,an=/^\s+/,u=/(<([\w:]+)[^>]*?)\/>/g,g=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,aY=/<([\w:]+)/,a7=/<tbody/i,aT=/<|&\w+;/,aC=function(s,c,w){return g.test(w)?s:c+"></"+w+">";},aG={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};aG.optgroup=aG.option;aG.tbody=aG.tfoot=aG.colgroup=aG.caption=aG.thead;aG.th=aG.td;if(!ag.support.htmlSerialize){aG._default=[1,"div<div>","</div>"];}ag.fn.extend({text:function(c){if(ag.isFunction(c)){return this.each(function(s){var w=ag(this);return w.text(c.call(this,s,w.text()));});}if(typeof c!=="object"&&c!==J){return this.empty().append((this[0]&&this[0].ownerDocument||N).createTextNode(c));}return ag.getText(this);},wrapAll:function(s){if(ag.isFunction(s)){return this.each(function(w){ag(this).wrapAll(s.call(this,w));});}if(this[0]){var c=ag(s,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var w=this;w.firstChild&&w.firstChild.nodeType===1;){w=w.firstChild;}return w;}).append(this);}return this;},wrapInner:function(c){return this.each(function(){var s=ag(this),w=s.contents();w.length?w.wrapAll(c):s.append(c);});},wrap:function(c){return this.each(function(){ag(this).wrapAll(c);});},unwrap:function(){return this.parent().each(function(){ag.nodeName(this,"body")||ag(this).replaceWith(this.childNodes);}).end();},append:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.appendChild(c);});},prepend:function(){return this.domManip(arguments,true,function(c){this.nodeType===1&&this.insertBefore(c,this.firstChild);});},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(s){this.parentNode.insertBefore(s,this);});}else{if(arguments.length){var c=ag(arguments[0]);c.push.apply(c,this.toArray());return this.pushStack(c,"before",arguments);}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(s){this.parentNode.insertBefore(s,this.nextSibling);});}else{if(arguments.length){var c=this.pushStack(this,"after",arguments);c.push.apply(c,ag(arguments[0]).toArray());return c;}}},clone:function(s){var c=this.map(function(){if(!ag.support.noCloneEvent&&!ag.isXMLDoc(this)){var A=this.outerHTML,w=this.ownerDocument;if(!A){A=w.createElement("div");A.appendChild(this.cloneNode(true));A=A.innerHTML;}return ag.clean([A.replace(be,"").replace(an,"")],w)[0];}else{return this.cloneNode(true);}});if(s===true){aN(this,c);aN(this.find("*"),c.find("*"));}return c;},html:function(s){if(s===J){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(be,""):null;}else{if(typeof s==="string"&&!/<script/i.test(s)&&(ag.support.leadingWhitespace||!an.test(s))&&!aG[(aY.exec(s)||["",""])[1].toLowerCase()]){try{for(var c=0,A=this.length;c<A;c++){if(this[c].nodeType===1){ar(this[c].getElementsByTagName("*"));this[c].innerHTML=s;}}}catch(w){this.empty().append(s);}}else{ag.isFunction(s)?this.each(function(K){var H=ag(this),G=H.html();H.empty().append(function(){return s.call(this,K,G);});}):this.empty().append(s);}}return this;},replaceWith:function(c){if(this[0]&&this[0].parentNode){ag.isFunction(c)||(c=ag(c).detach());return this.each(function(){var s=this.nextSibling,w=this.parentNode;ag(this).remove();s?ag(s).before(c):ag(w).append(c);});}else{return this.pushStack(ag(ag.isFunction(c)?c():c),"replaceWith",c);}},detach:function(c){return this.remove(c,true);},domManip:function(O,M,L){function H(P){return ag.nodeName(P,"table")?P.getElementsByTagName("tbody")[0]||P.appendChild(P.ownerDocument.createElement("tbody")):P;}var K,G,A=O[0],s=[];if(ag.isFunction(A)){return this.each(function(P){var Q=ag(this);O[0]=A.call(this,P,M?Q.html():J);return Q.domManip(O,M,L);});}if(this[0]){K=O[0]&&O[0].parentNode&&O[0].parentNode.nodeType===11?{fragment:O[0].parentNode}:aj(O,this,s);if(G=K.fragment.firstChild){M=M&&ag.nodeName(G,"tr");for(var c=0,w=this.length;c<w;c++){L.call(M?H(this[c],G):this[c],K.cacheable||this.length>1||c>0?K.fragment.cloneNode(true):K.fragment);}}s&&ag.each(s,o);}return this;}});ag.fragments={};ag.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(s,c){ag.fn[s]=function(K){var G=[];K=ag(K);for(var H=0,A=K.length;H<A;H++){var w=(H>0?this.clone(true):this).get();ag.fn[c].apply(ag(K[H]),w);G=G.concat(w);}return this.pushStack(G,s,K.selector);};});ag.each({remove:function(s,c){if(!s||ag.filter(s,[this]).length){if(!c&&this.nodeType===1){ar(this.getElementsByTagName("*"));ar([this]);}this.parentNode&&this.parentNode.removeChild(this);}},empty:function(){for(this.nodeType===1&&ar(this.getElementsByTagName("*"));this.firstChild;){this.removeChild(this.firstChild);}}},function(s,c){ag.fn[s]=function(){return this.each(c,arguments);};});ag.extend({clean:function(s,c,G,w){c=c||N;if(typeof c.createElement==="undefined"){c=c.ownerDocument||c[0]&&c[0].ownerDocument||N;}var A=[];ag.each(s,function(K,H){if(typeof H==="number"){H+="";}if(H){if(typeof H==="string"&&!aT.test(H)){H=c.createTextNode(H);}else{if(typeof H==="string"){H=H.replace(u,aC);var M=(aY.exec(H)||["",""])[1].toLowerCase(),L=aG[M]||aG._default,O=L[0];K=c.createElement("div");for(K.innerHTML=L[1]+H+L[2];O--;){K=K.lastChild;}if(!ag.support.tbody){O=a7.test(H);M=M==="table"&&!O?K.firstChild&&K.firstChild.childNodes:L[1]==="<table>"&&!O?K.childNodes:[];for(L=M.length-1;L>=0;--L){ag.nodeName(M[L],"tbody")&&!M[L].childNodes.length&&M[L].parentNode.removeChild(M[L]);}}!ag.support.leadingWhitespace&&an.test(H)&&K.insertBefore(c.createTextNode(an.exec(H)[0]),K.firstChild);H=ag.makeArray(K.childNodes);}}if(H.nodeType){A.push(H);}else{A=ag.merge(A,H);}}});if(G){for(s=0;A[s];s++){if(w&&ag.nodeName(A[s],"script")&&(!A[s].type||A[s].type.toLowerCase()==="text/javascript")){w.push(A[s].parentNode?A[s].parentNode.removeChild(A[s]):A[s]);}else{A[s].nodeType===1&&A.splice.apply(A,[s+1,0].concat(ag.makeArray(A[s].getElementsByTagName("script"))));G.appendChild(A[s]);}}}return A;}});var ac=/z-?index|font-?weight|opacity|zoom|line-?height/i,aJ=/alpha\([^)]*\)/,ah=/opacity=([^)]*)/,y=/float/i,j=/-([a-z])/ig,x=/([A-Z])/g,i=/^-?\d+(?:px)?$/i,bc=/^-?\d/,aW={position:"absolute",visibility:"hidden",display:"block"},aH=["Left","Right"],ae=["Top","Bottom"],z=N.defaultView&&N.defaultView.getComputedStyle,C=ag.support.cssFloat?"cssFloat":"styleFloat",bd=function(s,c){return c.toUpperCase();};ag.fn.css=function(s,c){return aZ(this,s,c,true,function(G,w,A){if(A===J){return ag.curCSS(G,w);}if(typeof A==="number"&&!ac.test(w)){A+="px";}ag.style(G,w,A);});};ag.extend({style:function(s,c,G){if(!s||s.nodeType===3||s.nodeType===8){return J;}if((c==="width"||c==="height")&&parseFloat(G)<0){G=J;}var w=s.style||s,A=G!==J;if(!ag.support.opacity&&c==="opacity"){if(A){w.zoom=1;c=parseInt(G,10)+""==="NaN"?"":"alpha(opacity="+G*100+")";s=w.filter||ag.curCSS(s,"filter")||"";w.filter=aJ.test(s)?s.replace(aJ,c):c;}return w.filter&&w.filter.indexOf("opacity=")>=0?parseFloat(ah.exec(w.filter)[1])/100+"":"";}if(y.test(c)){c=C;}c=c.replace(j,bd);if(A){w[c]=G;}return w[c];},css:function(s,c,K,G){if(c==="width"||c==="height"){var H,A=c==="width"?aH:ae;function w(){H=c==="width"?s.offsetWidth:s.offsetHeight;G!=="border"&&ag.each(A,function(){G||(H-=parseFloat(ag.curCSS(s,"padding"+this,true))||0);if(G==="margin"){H+=parseFloat(ag.curCSS(s,"margin"+this,true))||0;}else{H-=parseFloat(ag.curCSS(s,"border"+this+"Width",true))||0;}});}s.offsetWidth!==0?w():ag.swap(s,aW,w);return Math.max(0,Math.round(H));}return ag.curCSS(s,c,K);},curCSS:function(s,c,H){var A,G=s.style;if(!ag.support.opacity&&c==="opacity"&&s.currentStyle){A=ah.test(s.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return A===""?"1":A;}if(y.test(c)){c=C;}if(!H&&G&&G[c]){A=G[c];}else{if(z){if(y.test(c)){c="float";}c=c.replace(x,"-$1").toLowerCase();G=s.ownerDocument.defaultView;if(!G){return null;}if(s=G.getComputedStyle(s,null)){A=s.getPropertyValue(c);}if(c==="opacity"&&A===""){A="1";}}else{if(s.currentStyle){H=c.replace(j,bd);A=s.currentStyle[c]||s.currentStyle[H];if(!i.test(A)&&bc.test(A)){c=G.left;var w=s.runtimeStyle.left;s.runtimeStyle.left=s.currentStyle.left;G.left=H==="fontSize"?"1em":A||0;A=G.pixelLeft+"px";G.left=c;s.runtimeStyle.left=w;}}}}return A;},swap:function(s,c,G){var w={};for(var A in c){w[A]=s.style[A];s.style[A]=c[A];}G.call(s);for(A in c){s.style[A]=w[A];}}});if(ag.expr&&ag.expr.filters){ag.expr.filters.hidden=function(s){var c=s.offsetWidth,A=s.offsetHeight,w=s.nodeName.toLowerCase()==="tr";return c===0&&A===0&&!w?true:c>0&&A>0&&!w?false:ag.curCSS(s,"display")==="none";};ag.expr.filters.visible=function(c){return !ag.expr.filters.hidden(c);};}var m=aB(),bf=/<script(.|\s)*?\/script>/gi,a0=/select|textarea/i,aL=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,ax=/=\?(&|$)/,aX=/\?/,ai=/(\?|&)_=.*?(&|$)/,D=/^(\w+:)?\/\/([^\/?#]+)/,p=/%20/g;ag.fn.extend({_load:ag.fn.load,load:function(s,c,G){if(typeof s!=="string"){return this._load(s);}else{if(!this.length){return this;}}var w=s.indexOf(" ");if(w>=0){var A=s.slice(w,s.length);s=s.slice(0,w);}w="GET";if(c){if(ag.isFunction(c)){G=c;c=null;}else{if(typeof c==="object"){c=ag.param(c,ag.ajaxSettings.traditional);w="POST";}}}ag.ajax({url:s,type:w,dataType:"html",data:c,context:this,complete:function(K,H){if(H==="success"||H==="notmodified"){this.html(A?ag("<div />").append(K.responseText.replace(bf,"")).find(A):K.responseText);}G&&this.each(G,[K.responseText,H,K]);}});return this;},serialize:function(){return ag.param(this.serializeArray());},serializeArray:function(){return this.map(function(){return this.elements?ag.makeArray(this.elements):this;}).filter(function(){return this.name&&!this.disabled&&(this.checked||a0.test(this.nodeName)||aL.test(this.type));}).map(function(s,c){s=ag(this).val();return s==null?null:ag.isArray(s)?ag.map(s,function(w){return{name:c.name,value:w};}):{name:c.name,value:s};}).get();}});ag.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(s,c){ag.fn[c]=function(w){return this.bind(c,w);};});ag.extend({get:function(s,c,A,w){if(ag.isFunction(c)){w=w||A;A=c;c=null;}return ag.ajax({type:"GET",url:s,data:c,success:A,dataType:w});},getScript:function(s,c){return ag.get(s,null,c,"script");},getJSON:function(s,c,w){return ag.get(s,c,w,"json");},post:function(s,c,A,w){if(ag.isFunction(c)){w=w||A;A=c;c={};}return ag.ajax({type:"POST",url:s,data:c,success:A,dataType:w});},ajaxSetup:function(c){ag.extend(ag.ajaxSettings,c);},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:aM.XMLHttpRequest&&(aM.location.protocol!=="file:"||!aM.ActiveXObject)?function(){return new aM.XMLHttpRequest;}:function(){try{return new aM.ActiveXObject("Microsoft.XMLHTTP");}catch(c){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(ba){function ab(){Z.success&&Z.success.call(L,M,T,s);Z.global&&Y("ajaxSuccess",[s,Z]);}function aa(){Z.complete&&Z.complete.call(L,s,T);Z.global&&Y("ajaxComplete",[s,Z]);Z.global&&!--ag.active&&ag.event.trigger("ajaxStop");}function Y(bb,bi){(Z.context?ag(Z.context):ag.event).trigger(bb,bi);}var Z=ag.extend(true,{},ag.ajaxSettings,ba),U,T,M,L=Z.context||Z,O=Z.type.toUpperCase();if(Z.data&&Z.processData&&typeof Z.data!=="string"){Z.data=ag.param(Z.data,Z.traditional);}if(Z.dataType==="jsonp"){if(O==="GET"){ax.test(Z.url)||(Z.url+=(aX.test(Z.url)?"&":"?")+(Z.jsonp||"callback")+"=?");}else{if(!Z.data||!ax.test(Z.data)){Z.data=(Z.data?Z.data+"&":"")+(Z.jsonp||"callback")+"=?";}}Z.dataType="json";}if(Z.dataType==="json"&&(Z.data&&ax.test(Z.data)||ax.test(Z.url))){U=Z.jsonpCallback||"jsonp"+m++;if(Z.data){Z.data=(Z.data+"").replace(ax,"="+U+"$1");}Z.url=Z.url.replace(ax,"="+U+"$1");Z.dataType="script";aM[U]=aM[U]||function(bb){M=bb;ab();aa();aM[U]=J;try{delete aM[U];}catch(bi){}K&&K.removeChild(H);};}if(Z.dataType==="script"&&Z.cache===null){Z.cache=false;}if(Z.cache===false&&O==="GET"){var A=aB(),c=Z.url.replace(ai,"$1_="+A+"$2");Z.url=c+(c===Z.url?(aX.test(Z.url)?"&":"?")+"_="+A:"");}if(Z.data&&O==="GET"){Z.url+=(aX.test(Z.url)?"&":"?")+Z.data;}Z.global&&!ag.active++&&ag.event.trigger("ajaxStart");A=(A=D.exec(Z.url))&&(A[1]&&A[1]!==location.protocol||A[2]!==location.host);if(Z.dataType==="script"&&O==="GET"&&A){var K=N.getElementsByTagName("head")[0]||N.documentElement,H=N.createElement("script");H.src=Z.url;if(Z.scriptCharset){H.charset=Z.scriptCharset;}if(!U){var G=false;H.onload=H.onreadystatechange=function(){if(!G&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){G=true;ab();aa();H.onload=H.onreadystatechange=null;K&&H.parentNode&&K.removeChild(H);}};}K.insertBefore(H,K.firstChild);return J;}var w=false,s=Z.xhr();if(s){Z.username?s.open(O,Z.url,Z.async,Z.username,Z.password):s.open(O,Z.url,Z.async);try{if(Z.data||ba&&ba.contentType){s.setRequestHeader("Content-Type",Z.contentType);}if(Z.ifModified){ag.lastModified[Z.url]&&s.setRequestHeader("If-Modified-Since",ag.lastModified[Z.url]);ag.etag[Z.url]&&s.setRequestHeader("If-None-Match",ag.etag[Z.url]);}A||s.setRequestHeader("X-Requested-With","XMLHttpRequest");s.setRequestHeader("Accept",Z.dataType&&Z.accepts[Z.dataType]?Z.accepts[Z.dataType]+", */*":Z.accepts._default);}catch(Q){}if(Z.beforeSend&&Z.beforeSend.call(L,s,Z)===false){Z.global&&!--ag.active&&ag.event.trigger("ajaxStop");s.abort();return false;}Z.global&&Y("ajaxSend",[s,Z]);var W=s.onreadystatechange=function(bb){if(!s||s.readyState===0){w||aa();w=true;if(s){s.onreadystatechange=ag.noop;}}else{if(!w&&s&&(s.readyState===4||bb==="timeout")){w=true;s.onreadystatechange=ag.noop;T=bb==="timeout"?"timeout":!ag.httpSuccess(s)?"error":Z.ifModified&&ag.httpNotModified(s,Z.url)?"notmodified":"success";if(T==="success"){try{M=ag.httpData(s,Z.dataType,Z);}catch(bi){T="parsererror";}}if(T==="success"||T==="notmodified"){U||ab();}else{ag.handleError(Z,s,T);}aa();bb==="timeout"&&s.abort();if(Z.async){s=null;}}}};try{var V=s.abort;s.abort=function(){if(s){V.call(s);if(s){s.readyState=0;}}W();};}catch(R){}Z.async&&Z.timeout>0&&setTimeout(function(){s&&!w&&W("timeout");},Z.timeout);try{s.send(O==="POST"||O==="PUT"||O==="DELETE"?Z.data:null);}catch(P){ag.handleError(Z,s,null,P);aa();}Z.async||W();return s;}},handleError:function(s,c,A,w){if(s.error){s.error.call(s.context||aM,c,A,w);}if(s.global){(s.context?ag(s.context):ag.event).trigger("ajaxError",[c,s,w]);}},active:0,httpSuccess:function(s){try{return !s.status&&location.protocol==="file:"||s.status>=200&&s.status<300||s.status===304||s.status===1223||s.status===0;}catch(c){}return false;},httpNotModified:function(s,c){var A=s.getResponseHeader("Last-Modified"),w=s.getResponseHeader("Etag");if(A){ag.lastModified[c]=A;}if(w){ag.etag[c]=w;}return s.status===304||s.status===0;},httpData:function(s,c,G){var w=s.getResponseHeader("content-type")||"",A=c==="xml"||!c&&w.indexOf("xml")>=0;s=A?s.responseXML:s.responseText;if(A&&s.documentElement.nodeName==="parsererror"){throw"parsererror";}if(G&&G.dataFilter){s=G.dataFilter(s,c);}if(typeof s==="string"){if(c==="json"||!c&&w.indexOf("json")>=0){if(/^[\],:{}\s]*$/.test(s.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){s=aM.JSON&&aM.JSON.parse?aM.JSON.parse(s):(new Function("return "+s))();}else{throw"Invalid JSON: "+s;}}else{if(c==="script"||!c&&w.indexOf("javascript")>=0){ag.globalEval(s);}}}return s;},param:function(s,c){function G(K,H){H=ag.isFunction(H)?H():H;w[w.length]=encodeURIComponent(K)+"="+encodeURIComponent(H);}var w=[];if(c===J){c=ag.ajaxSettings.traditional;}ag.isArray(s)||s.jquery?ag.each(s,function(){G(this.name,this.value);}):ag.each(s,function A(K,H){if(ag.isArray(H)){ag.each(H,function(M,L){c?G(K,L):A(K+"["+(typeof L==="object"||ag.isArray(L)?M:"")+"]",L);});}else{!c&&H!=null&&typeof H==="object"?ag.each(H,function(M,L){A(K+"["+M+"]",L);}):G(K,H);}});return w.join("&").replace(p,"+");}});var aI={},a=/toggle|show|hide/,a3=/^([+-]=)?([\d+-.]+)(.*)$/,al,E=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];ag.fn.extend({show:function(s,c){if(s!=null){return this.animate(aA("show",3),s,c);}else{s=0;for(c=this.length;s<c;s++){var G=ag.data(this[s],"olddisplay");this[s].style.display=G||"";if(ag.css(this[s],"display")==="none"){G=this[s].nodeName;var w;if(aI[G]){w=aI[G];}else{var A=ag("<"+G+" />").appendTo("body");w=A.css("display");if(w==="none"){w="block";}A.remove();aI[G]=w;}ag.data(this[s],"olddisplay",w);}}s=0;for(c=this.length;s<c;s++){this[s].style.display=ag.data(this[s],"olddisplay")||"";}return this;}},hide:function(s,c){if(s!=null){return this.animate(aA("hide",3),s,c);}else{s=0;for(c=this.length;s<c;s++){var w=ag.data(this[s],"olddisplay");!w&&w!=="none"&&ag.data(this[s],"olddisplay",ag.css(this[s],"display"));}s=0;for(c=this.length;s<c;s++){this[s].style.display="none";}return this;}},_toggle:ag.fn.toggle,toggle:function(s,c){var w=typeof s==="boolean";if(ag.isFunction(s)&&ag.isFunction(c)){this._toggle.apply(this,arguments);}else{s==null||w?this.each(function(){var A=w?s:ag(this).is(":hidden");ag(this)[A?"show":"hide"]();}):this.animate(aA("toggle",3),s,c);}return this;},fadeTo:function(s,c,w){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:c},s,w);},animate:function(s,c,G,w){var A=ag.speed(c,G,w);if(ag.isEmptyObject(s)){return this.each(A.complete);}return this[A.queue===false?"each":"queue"](function(){var K=ag.extend({},A),H,M=this.nodeType===1&&ag(this).is(":hidden"),L=this;for(H in s){var O=H.replace(j,bd);if(H!==O){s[O]=s[H];delete s[H];H=O;}if(s[H]==="hide"&&M||s[H]==="show"&&!M){return K.complete.call(this);}if((H==="height"||H==="width")&&this.style){K.display=ag.css(this,"display");K.overflow=this.style.overflow;}if(ag.isArray(s[H])){(K.specialEasing=K.specialEasing||{})[H]=s[H][1];s[H]=s[H][0];}}if(K.overflow!=null){this.style.overflow="hidden";}K.curAnim=ag.extend({},s);ag.each(s,function(P,U){var V=new ag.fx(L,K,P);if(a.test(U)){V[U==="toggle"?M?"show":"hide":U](s);}else{var T=a3.exec(U),R=V.cur(true)||0;if(T){U=parseFloat(T[2]);var Q=T[3]||"px";if(Q!=="px"){L.style[P]=(U||1)+Q;R=(U||1)/V.cur(true)*R;L.style[P]=R+Q;}if(T[1]){U=(T[1]==="-="?-1:1)*U+R;}V.custom(R,U,Q);}else{V.custom(R,U,"");}}});return true;});},stop:function(s,c){var w=ag.timers;s&&this.queue([]);this.each(function(){for(var A=w.length-1;A>=0;A--){if(w[A].elem===this){c&&w[A](true);w.splice(A,1);}}});c||this.dequeue();return this;}});ag.each({slideDown:aA("show",1),slideUp:aA("hide",1),slideToggle:aA("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(s,c){ag.fn[s]=function(A,w){return this.animate(c,A,w);};});ag.extend({speed:function(s,c,A){var w=s&&typeof s==="object"?s:{complete:A||!A&&c||ag.isFunction(s)&&s,duration:s,easing:A&&c||c&&!ag.isFunction(c)&&c};w.duration=ag.fx.off?0:typeof w.duration==="number"?w.duration:ag.fx.speeds[w.duration]||ag.fx.speeds._default;w.old=w.complete;w.complete=function(){w.queue!==false&&ag(this).dequeue();ag.isFunction(w.old)&&w.old.call(this);};return w;},easing:{linear:function(s,c,A,w){return A+w*s;},swing:function(s,c,A,w){return(-Math.cos(s*Math.PI)/2+0.5)*w+A;}},timers:[],fx:function(s,c,w){this.options=c;this.elem=s;this.prop=w;if(!c.orig){c.orig={};}}});ag.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(ag.fx.step[this.prop]||ag.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style){this.elem.style.display="block";}},cur:function(c){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop];}return(c=parseFloat(ag.css(this.elem,this.prop,c)))&&c>-10000?c:parseFloat(ag.curCSS(this.elem,this.prop))||0;},custom:function(s,c,G){function w(H){return A.step(H);}this.startTime=aB();this.start=s;this.end=c;this.unit=G||this.unit||"px";this.now=this.start;this.pos=this.state=0;var A=this;w.elem=this.elem;if(w()&&ag.timers.push(w)&&!al){al=setInterval(ag.fx.tick,13);}},show:function(){this.options.orig[this.prop]=ag.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());ag(this.elem).show();},hide:function(){this.options.orig[this.prop]=ag.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0);},step:function(s){var c=aB(),G=true;if(s||c>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var w in this.options.curAnim){if(this.options.curAnim[w]!==true){G=false;}}if(G){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;s=ag.data(this.elem,"olddisplay");this.elem.style.display=s?s:this.options.display;if(ag.css(this.elem,"display")==="none"){this.elem.style.display="block";}}this.options.hide&&ag(this.elem).hide();if(this.options.hide||this.options.show){for(var A in this.options.curAnim){ag.style(this.elem,A,this.options.orig[A]);}}this.options.complete.call(this.elem);}return false;}else{A=c-this.startTime;this.state=A/this.options.duration;s=this.options.easing||(ag.easing.swing?"swing":"linear");this.pos=ag.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||s](this.state,A,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update();}return true;}};ag.extend(ag.fx,{tick:function(){for(var s=ag.timers,c=0;c<s.length;c++){s[c]()||s.splice(c--,1);}s.length||ag.fx.stop();},stop:function(){clearInterval(al);al=null;},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(c){ag.style(c.elem,"opacity",c.now);},_default:function(c){if(c.elem.style&&c.elem.style[c.prop]!=null){c.elem.style[c.prop]=(c.prop==="width"||c.prop==="height"?Math.max(0,c.now):c.now)+c.unit;}else{c.elem[c.prop]=c.now;}}}});if(ag.expr&&ag.expr.filters){ag.expr.filters.animated=function(c){return ag.grep(ag.timers,function(s){return c===s.elem;}).length;};}ag.fn.offset="getBoundingClientRect" in N.documentElement?function(s){var c=this[0];if(!c||!c.ownerDocument){return null;}if(s){return this.each(function(G){ag.offset.setOffset(this,s,G);});}if(c===c.ownerDocument.body){return ag.offset.bodyOffset(c);}var A=c.getBoundingClientRect(),w=c.ownerDocument;c=w.body;w=w.documentElement;return{top:A.top+(self.pageYOffset||ag.support.boxModel&&w.scrollTop||c.scrollTop)-(w.clientTop||c.clientTop||0),left:A.left+(self.pageXOffset||ag.support.boxModel&&w.scrollLeft||c.scrollLeft)-(w.clientLeft||c.clientLeft||0)};}:function(O){var M=this[0];if(!M||!M.ownerDocument){return null;}if(O){return this.each(function(P){ag.offset.setOffset(this,O,P);});}if(M===M.ownerDocument.body){return ag.offset.bodyOffset(M);}ag.offset.initialize();var L=M.offsetParent,H=M,K=M.ownerDocument,G,A=K.documentElement,s=K.body;H=(K=K.defaultView)?K.getComputedStyle(M,null):M.currentStyle;for(var c=M.offsetTop,w=M.offsetLeft;(M=M.parentNode)&&M!==s&&M!==A;){if(ag.offset.supportsFixedPosition&&H.position==="fixed"){break;}G=K?K.getComputedStyle(M,null):M.currentStyle;c-=M.scrollTop;w-=M.scrollLeft;if(M===L){c+=M.offsetTop;w+=M.offsetLeft;if(ag.offset.doesNotAddBorder&&!(ag.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(M.nodeName))){c+=parseFloat(G.borderTopWidth)||0;w+=parseFloat(G.borderLeftWidth)||0;}H=L;L=M.offsetParent;}if(ag.offset.subtractsBorderForOverflowNotVisible&&G.overflow!=="visible"){c+=parseFloat(G.borderTopWidth)||0;w+=parseFloat(G.borderLeftWidth)||0;}H=G;}if(H.position==="relative"||H.position==="static"){c+=s.offsetTop;w+=s.offsetLeft;}if(ag.offset.supportsFixedPosition&&H.position==="fixed"){c+=Math.max(A.scrollTop,s.scrollTop);w+=Math.max(A.scrollLeft,s.scrollLeft);}return{top:c,left:w};};ag.offset={initialize:function(){var s=N.body,c=N.createElement("div"),H,A,G,w=parseFloat(ag.curCSS(s,"marginTop",true))||0;ag.extend(c.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});c.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";s.insertBefore(c,s.firstChild);H=c.firstChild;A=H.firstChild;G=H.nextSibling.firstChild.firstChild;this.doesNotAddBorder=A.offsetTop!==5;this.doesAddBorderForTableAndCells=G.offsetTop===5;A.style.position="fixed";A.style.top="20px";this.supportsFixedPosition=A.offsetTop===20||A.offsetTop===15;A.style.position=A.style.top="";H.style.overflow="hidden";H.style.position="relative";this.subtractsBorderForOverflowNotVisible=A.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=s.offsetTop!==w;s.removeChild(c);ag.offset.initialize=ag.noop;},bodyOffset:function(s){var c=s.offsetTop,w=s.offsetLeft;ag.offset.initialize();if(ag.offset.doesNotIncludeMarginInBodyOffset){c+=parseFloat(ag.curCSS(s,"marginTop",true))||0;w+=parseFloat(ag.curCSS(s,"marginLeft",true))||0;}return{top:c,left:w};},setOffset:function(s,c,K){if(/static/.test(ag.curCSS(s,"position"))){s.style.position="relative";}var G=ag(s),H=G.offset(),A=parseInt(ag.curCSS(s,"top",true),10)||0,w=parseInt(ag.curCSS(s,"left",true),10)||0;if(ag.isFunction(c)){c=c.call(s,K,H);}K={top:c.top-H.top+A,left:c.left-H.left+w};"using" in c?c.using.call(s,K):G.css(K);}};ag.fn.extend({position:function(){if(!this[0]){return null;}var s=this[0],c=this.offsetParent(),A=this.offset(),w=/^body|html$/i.test(c[0].nodeName)?{top:0,left:0}:c.offset();A.top-=parseFloat(ag.curCSS(s,"marginTop",true))||0;A.left-=parseFloat(ag.curCSS(s,"marginLeft",true))||0;w.top+=parseFloat(ag.curCSS(c[0],"borderTopWidth",true))||0;w.left+=parseFloat(ag.curCSS(c[0],"borderLeftWidth",true))||0;return{top:A.top-w.top,left:A.left-w.left};},offsetParent:function(){return this.map(function(){for(var c=this.offsetParent||N.body;c&&!/^body|html$/i.test(c.nodeName)&&ag.css(c,"position")==="static";){c=c.offsetParent;}return c;});}});ag.each(["Left","Top"],function(s,c){var w="scroll"+c;ag.fn[w]=function(G){var H=this[0],A;if(!H){return null;}if(G!==J){return this.each(function(){if(A=q(this)){A.scrollTo(!s?G:ag(A).scrollLeft(),s?G:ag(A).scrollTop());}else{this[w]=G;}});}else{return(A=q(H))?"pageXOffset" in A?A[s?"pageYOffset":"pageXOffset"]:ag.support.boxModel&&A.document.documentElement[w]||A.document.body[w]:H[w];}};});ag.each(["Height","Width"],function(s,c){var w=c.toLowerCase();ag.fn["inner"+c]=function(){return this[0]?ag.css(this[0],w,false,"padding"):null;};ag.fn["outer"+c]=function(A){return this[0]?ag.css(this[0],w,false,A?"margin":"border"):null;};ag.fn[w]=function(A){var G=this[0];if(!G){return A==null?null:this;}return"scrollTo" in G&&G.document?G.document.compatMode==="CSS1Compat"&&G.document.documentElement["client"+c]||G.document.body["client"+c]:G.nodeType===9?Math.max(G.documentElement["client"+c],G.body["scroll"+c],G.documentElement["scroll"+c],G.body["offset"+c],G.documentElement["offset"+c]):A===J?ag.css(G,w):this.css(w,typeof A==="string"?A:A+"px");};});aM.jQuery=aM.$=ag;})(window);if(typeof exports!=="undefined"){exports.createPersistence=function(){return initPersistence({});};var singleton;exports.__defineGetter__("persistence",function(){if(!singleton){singleton=exports.createPersistence();}return singleton;});}else{window=window||{};window.persistence=initPersistence(window.persistence||{});}function initPersistence(b){if(b.isImmutable){return b;}b.isImmutable=function(c){return(c=="id");};b.defineProp=function(d,f,g,c){d.__defineSetter__(f,function(h){g(h);});d.__defineGetter__(f,function(){return c();});};b.set=function(c,f,d){if(b.isImmutable(f)){throw new Error("immutable field: "+f);}c[f]=d;};b.get=function(d,c){return(arguments.length==1)?d:d[c];};(function(){var d={};var w={};b.getEntityMeta=function(){return d;};b.trackedObjects={};b.objectsToRemove={};b.objectsRemoved=[];b.globalPropertyListeners={};b.queryCollectionCache={};b.getObjectsToRemove=function(){return this.objectsToRemove;};b.getTrackedObjects=function(){return this.trackedObjects;};b.entityDecoratorHooks=[];b.flushHooks=[];b.schemaSyncHooks=[];b.debug=true;b.subscribeToGlobalPropertyListener=function(B,A,D){var z=A+"__"+D;if(z in this.globalPropertyListeners){var C=this.globalPropertyListeners[z];for(var y=0;y<C.length;y++){if(C[y]===B){return;}}this.globalPropertyListeners[z].push(B);}else{this.globalPropertyListeners[z]=[B];}};b.unsubscribeFromGlobalPropertyListener=function(B,A,D){var z=A+"__"+D;var C=this.globalPropertyListeners[z];for(var y=0;y<C.length;y++){if(C[y]===B){C.splice(y,1);return;}}};b.propertyChanged=function(D,I,z,B){if(!this.trackedObjects[D.id]){return;}var H=D._type;var J=H+"__"+I;if(J in this.globalPropertyListeners){var G=this.globalPropertyListeners[J];for(var E=0;E<G.length;E++){var y=G[E];var F=D._data;F[I]=z;var C=y._filter.match(F);F[I]=B;var A=y._filter.match(F);if(C!=A){y.triggerEvent("change",y,D);}}}};b.objectRemoved=function(C){var A=C._type;if(this.queryCollectionCache[A]){var B=this.queryCollectionCache[A];for(var z in B){if(B.hasOwnProperty(z)){var y=B[z];if(y._filter.match(C)){y.triggerEvent("change",y,C);}}}}};function f(y){return d[y];}b.getMeta=f;function s(y){this.trackedObjects={};this.objectsToRemove={};this.objectsRemoved=[];this.globalPropertyListeners={};this.queryCollectionCache={};this.conn=y;}s.prototype=b;b.Session=s;b.define=function(z,y){if(d[z]){return k(z);}var A={name:z,fields:y,isMixin:false,indexes:[],hasMany:{},hasOne:{}};d[z]=A;return k(z);};b.isDefined=function(y){return !!d[y];};b.defineMixin=function(z,y){var A=this.define(z,y);A.meta.isMixin=true;return A;};b.isTransaction=function(y){return !y||(y&&y.executeSql);};b.isSession=function(y){return !y||(y&&y.schemaSync);};b.add=function(z){if(!z){return;}if(!this.trackedObjects[z.id]){this.trackedObjects[z.id]=z;if(z._new){for(var y in z._data){if(z._data.hasOwnProperty(y)){this.propertyChanged(z,y,undefined,z._data[y]);}}}}return this;};b.remove=function(y){if(!this.objectsToRemove[y.id]){this.objectsToRemove[y.id]=y;}this.objectsRemoved.push({id:y.id,entity:y._type});this.objectRemoved(y);return this;};b.clean=function(){this.trackedObjects={};this.objectsToRemove={};this.objectsRemoved=[];this.globalPropertyListeners={};this.queryCollectionCache={};};b.asyncForEach=function(B,z,A){B=B.slice(0);function y(){var C=B.pop();z(C,function(D,E){if(B.length>0){y();}else{A(D,E);}});}if(B.length>0){y();}else{A();}};b.asyncParForEach=function(D,B,C){var A=0;var y=D.length;if(y===0){C();}for(var z=0;z<y;z++){B(D[z],function(E,F){A++;if(A===y){C(E,F);}});}};function k(A){if(w[A]){return w[A];}var C=d[A];function D(L,K,E){var F=a.getArgs(arguments,[{name:"session",optional:true,check:b.isSession,defaultValue:b},{name:"obj",optional:true,check:function(M){return M;},defaultValue:{}}]);if(C.isMixin){throw new Error("Cannot instantiate mixin");}L=F.session;K=F.obj;var H=this;this.id=K.id||b.createUUID();this._new=true;this._type=A;this._dirtyProperties={};this._data={};this._data_obj={};this._session=L||b;this.subscribers={};for(var J in C.fields){(function(){if(C.fields.hasOwnProperty(J)){var M=J;b.defineProp(H,M,function(O){var N=H._data[M];if(N!==O||(N&&O&&N.getTime&&O.getTime)){H._data[M]=O;H._dirtyProperties[M]=N;H.triggerEvent("set",H,M,O);H.triggerEvent("change",H,M,O);L.propertyChanged(H,M,N,O);}},function(){return H._data[M];});H._data[J]=t(C.fields[J]);}}());}for(var G in C.hasOne){if(C.hasOne.hasOwnProperty(G)){(function(){var M=G;var N=C.hasOne[G].type.meta.isMixin?M+"_class":null;b.defineProp(H,M,function(S){var Q=H._data[M];var R=H._data_obj[M]||L.trackedObjects[H._data[M]];if(S==null){H._data[M]=null;H._data_obj[M]=undefined;if(N){H[N]="";}}else{if(S.id){H._data[M]=S.id;H._data_obj[M]=S;if(N){H[N]=S._type;}L.add(S);L.add(H);}else{H._data[M]=S;}}H._dirtyProperties[M]=Q;H.triggerEvent("set",H,M,S);H.triggerEvent("change",H,M,S);if(C.hasOne[M].inverseProperty){var P=H[M];if(P){var O=P[C.hasOne[M].inverseProperty];if(O.list&&O._filter){O.triggerEvent("change",H,M,S);}}if(R){console.log("OldValue",R);var O=R[C.hasOne[M].inverseProperty];if(O.list&&O._filter){O.triggerEvent("change",H,M,S);}}}},function(){if(!H._data[M]){return null;}else{if(H._data_obj[M]!==undefined){return H._data_obj[M];}else{if(H._data[M]&&L.trackedObjects[H._data[M]]){H._data_obj[M]=L.trackedObjects[H._data[M]];return H._data_obj[M];}else{throw new Error("Property '"+M+"' with id: "+H._data[M]+" not fetched, either prefetch it or fetch it manually.");}}}});}());}}for(var G in C.hasMany){if(C.hasMany.hasOwnProperty(G)){(function(){var M=G;if(C.hasMany[M].manyToMany){b.defineProp(H,M,function(P){if(P&&P._items){var N=P._items;for(var O=0;O<N.length;O++){b.get(H,M).add(N[O]);}}else{throw new Error("Not yet supported.");}},function(){if(H._data[M]){return H._data[M];}else{var O=C.hasMany[M];var Q=O.type.meta;var N=Q.hasMany[O.inverseProperty];var S=O.mixin?O.mixin.meta.name:C.name;var P=N.mixin?N.mixin.meta.name:Q.name;var R=new b.ManyToManyDbQueryCollection(L,Q.name);R.initManyToMany(H,M);R._manyToManyFetch={table:O.tableName,prop:S+"_"+M,inverseProp:P+"_"+O.inverseProperty,id:H.id};H._data[M]=R;return L.uniqueQueryCollection(R);}});}else{b.defineProp(H,M,function(P){if(P&&P._items){var N=P._items;for(var O=0;O<N.length;O++){b.get(H,M).add(N[O]);}}else{throw new Error("Not yet supported.");}},function(){if(H._data[M]){return H._data[M];}else{var N=L.uniqueQueryCollection(new b.DbQueryCollection(L,C.hasMany[M].type.meta.name).filter(C.hasMany[M].inverseProperty,"=",H));H._data[M]=N;return N;}});}}());}}if(this.initialize){this.initialize();}for(var I in K){if(K.hasOwnProperty(I)){if(I!=="id"){b.set(H,I,K[I]);}}}}D.prototype=new n();D.meta=C;D.prototype.equals=function(E){return this.id==E.id;};D.prototype.toJSON=function(){var E={id:this.id};for(var F in this._data){if(this._data.hasOwnProperty(F)){if(typeof this._data[F]=="object"&&this._data[F]!=null){if(this._data[F].toJSON!=undefined){E[F]=this._data[F].toJSON();}}else{E[F]=this._data[F];}}}return E;};D.prototype.selectJSON=function(E,H,J){var I=this;var G=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"props",optional:false},{name:"callback",optional:false}]);E=G.tx;H=G.props;J=G.callback;if(!E){this._session.transaction(function(K){I.selectJSON(K,H,J);});return;}var F={};H.forEach(function(Q){var P=F;var O=Q.split(".");for(var M=0;M<O.length;M++){var L=O[M];if(M===O.length-1){if(L==="*"){P.id=true;for(var N in C.fields){if(C.fields.hasOwnProperty(N)){P[N]=true;}}for(var N in C.hasOne){if(C.hasOne.hasOwnProperty(N)){P[N]=true;}}for(var N in C.hasMany){if(C.hasMany.hasOwnProperty(N)){P[N]=true;}}}else{if(L[0]==="["){L=L.substring(1,L.length-1);var K=L.split(/,\s*/);K.forEach(function(R){P[R]=true;});}else{P[L]=true;}}}else{P[L]=P[L]||{};P=P[L];}}});B(this,E,F,J);};function B(I,H,P,M){var K=I._session;var J=[];var O=f(I._type);var L=O.fields;for(var F in P){if(P.hasOwnProperty(F)){J.push(F);}}var E=[];var Q=[];J.forEach(function(R){if(P[R]===true&&!O.hasMany[R]){E.push(R);}else{Q.push(R);}});var G=I._data;var N={};E.forEach(function(R){if(R==="id"){N.id=I.id;}else{if(O.hasOne[R]){N[R]=G[R]?{id:G[R]}:null;}else{N[R]=b.entityValToJson(G[R],L[R]);}}});J=Q.slice();b.asyncForEach(J,function(R,S){if(O.hasOne[R]){I.fetch(H,R,function(T){if(T){B(T,H,P[R],function(U){N[R]=U;S();});}else{N[R]=null;S();}});}else{if(O.hasMany[R]){b.get(I,R).list(function(T){N[R]=[];b.asyncForEach(T,function(U,V){var U=T.pop();if(P[R]===true){N[R].push({id:U.id});V();}else{B(U,H,P[R],function(W){N[R].push(W);V();});}},S);});}}},function(){M(N);});}D.prototype.fetch=function(F,E,K){var G=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"rel",optional:false,check:a.hasType("string")},{name:"callback",optional:false,check:a.isCallback()}]);F=G.tx;E=G.rel;K=G.callback;var I=this;var J=this._session;if(!F){J.transaction(function(L){I.fetch(L,E,K);});return;}if(!this._data[E]){if(K){K(null);}}else{if(this._data_obj[E]){if(K){K(this._data_obj[E]);}}else{var H=C.hasOne[E].type;if(H.meta.isMixin){H=k(this._data[E+"_class"]);}H.load(J,F,this._data[E],function(L){I._data_obj[E]=L;if(K){K(L);}});}}};D.prototype.markDirty=function(E){this._dirtyProperties[E]=true;};D.all=function(F){var E=a.getArgs(arguments,[{name:"session",optional:true,check:b.isSession,defaultValue:b}]);F=E.session;return F.uniqueQueryCollection(new m(F,A));};D.fromSelectJSON=function(H,E,J,I){var F=a.getArgs(arguments,[{name:"session",optional:true,check:b.isSession,defaultValue:b},{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"jsonObj",optional:false},{name:"callback",optional:false,check:a.isCallback()}]);H=F.session;E=F.tx;J=F.jsonObj;I=F.callback;if(!E){H.transaction(function(K){D.fromSelectJSON(H,K,J,I);});return;}if(typeof J==="string"){J=JSON.parse(J);}if(!J){I(null);return;}function G(M){if(!M){M=new D(H);if(J.id){M.id=J.id;}}H.add(M);var K=[];for(var L in J){if(J.hasOwnProperty(L)){if(L==="id"){continue;}else{if(C.fields[L]){b.set(M,L,b.jsonToEntityVal(J[L],C.fields[L]));}else{if(C.hasOne[L]||C.hasMany[L]){K.push(L);}}}}}b.asyncForEach(K,function(Q,R){if(C.hasOne[Q]){C.hasOne[Q].type.fromSelectJSON(H,E,J[Q],function(S){b.set(M,Q,S);R();});}else{if(C.hasMany[Q]){var P=b.get(M,Q);var N=J[Q].slice(0);var O=C.hasMany[Q].type;P.list(E,function(S){b.asyncForEach(N,function(T,U){O.fromSelectJSON(H,E,T,function(V){for(var W=0;W<S.length;W++){if(S[W].id===V.id){U();return;}}P.add(V);U();});},function(){R();});});}}},function(){I(M);});}if(J.id){D.load(H,E,J.id,G);}else{G(new D(H));}};D.load=function(G,E,I,H){var F=a.getArgs(arguments,[{name:"session",optional:true,check:b.isSession,defaultValue:b},{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"id",optional:false,check:a.hasType("string")},{name:"callback",optional:true,check:a.isCallback(),defaultValue:function(){}}]);D.findBy(F.session,F.tx,"id",F.id,F.callback);};D.findBy=function(I,E,H,G,J){var F=a.getArgs(arguments,[{name:"session",optional:true,check:b.isSession,defaultValue:b},{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"property",optional:false,check:a.hasType("string")},{name:"value",optional:false},{name:"callback",optional:true,check:a.isCallback(),defaultValue:function(){}}]);I=F.session;E=F.tx;H=F.property;G=F.value;J=F.callback;if(H==="id"&&G in I.trackedObjects){J(I.trackedObjects[G]);return;}if(!E){I.transaction(function(K){D.findBy(I,K,H,G,J);});return;}D.all(I).filter(H,"=",G).one(E,function(K){J(K);});};D.index=function(G,E){var F=E||{};if(typeof G=="string"){G=[G];}F.columns=G;C.indexes.push(F);};D.hasMany=function(G,I,E){var H=I.meta;if(H.hasMany[E]){var F=C.name+"_"+G+"_"+H.name;var J=H.name+"_"+E+"_"+C.name;if(F>J){F=J;}C.hasMany[G]={type:I,inverseProperty:E,manyToMany:true,tableName:F};H.hasMany[E]={type:D,inverseProperty:G,manyToMany:true,tableName:F};delete C.hasOne[G];delete C.fields[G+"_class"];}else{C.hasMany[G]={type:I,inverseProperty:E};H.hasOne[E]={type:D,inverseProperty:G};if(C.isMixin){H.fields[E+"_class"]=b.typeMapper?b.typeMapper.classNameType:"TEXT";}}};D.hasOne=function(G,F,E){C.hasOne[G]={type:F,inverseProperty:E};if(F.meta.isMixin){C.fields[G+"_class"]=b.typeMapper?b.typeMapper.classNameType:"TEXT";}};D.is=function(E){var G=E.meta;if(!G.isMixin){throw new Error("not a mixin: "+E);}E.meta.mixedIns=E.meta.mixedIns||[];E.meta.mixedIns.push(C);for(var H in G.fields){if(G.fields.hasOwnProperty(H)){C.fields[H]=G.fields[H];}}for(var F in G.hasOne){if(G.hasOne.hasOwnProperty(F)){C.hasOne[F]=G.hasOne[F];}}for(var F in G.hasMany){if(G.hasMany.hasOwnProperty(F)){G.hasMany[F].mixin=E;C.hasMany[F]=G.hasMany[F];}}};var z=b.entityDecoratorHooks;for(var y=0;y<z.length;y++){z[y](D);}w[A]=D;return D;}b.jsonToEntityVal=function(z,y){if(y){switch(y){case"DATE":if(typeof z==="number"){return new Date(z*1000);}else{return null;}break;default:return z;}}else{return z;}};b.entityValToJson=function(z,y){if(y){switch(y){case"DATE":if(z){z=new Date(z);return Math.round(z.getTime()/1000);}else{return null;}break;default:return z;}}else{return z;}};b.dump=function(z,C,D){var A=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"entities",optional:true,check:function(E){return !E||(E&&E.length&&!E.apply);},defaultValue:null},{name:"callback",optional:false,check:a.isCallback(),defaultValue:function(){}}]);z=A.tx;C=A.entities;D=A.callback;if(!C){C=[];for(var B in w){if(w.hasOwnProperty(B)){C.push(w[B]);}}}var y={};b.asyncParForEach(C,function(F,E){F.all().list(z,function(H){var G=[];b.asyncParForEach(H,function(O,R){var K={};var M=F.meta.fields;for(var N in M){if(M.hasOwnProperty(N)){K[N]=b.entityValToJson(O._data[N],M[N]);}}var P=F.meta.hasOne;for(var J in P){if(P.hasOwnProperty(J)){K[J]=O._data[J];}}var L=F.meta.hasMany;var Q=[];for(var I in L){if(L.hasOwnProperty(I)){Q.push(I);}}b.asyncParForEach(Q,function(T,U){var S=b.get(O,T);S.list(z,function(V){K[T]=V.map(function(W){return W.id;});U();});},function(){K.id=O.id;G.push(K);R();});},function(){y[F.meta.name]=G;E();});});},function(){D(y);});};b.load=function(F,H,N){var J=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"dump",optional:false},{name:"callback",optional:true,check:a.isCallback(),defaultValue:function(){}}]);F=J.tx;H=J.dump;N=J.callback;var C=0;var O=[];var K=this;for(var L in H){if(H.hasOwnProperty(L)){var D=k(L);var G=D.meta.fields;var z=H[L];for(var E=0;E<z.length;E++){var M=z[E];var I=new D();I.id=M.id;for(var B in M){if(M.hasOwnProperty(B)){if(b.isImmutable(B)){I[B]=M[B];}else{if(D.meta.hasMany[B]){var A=D.meta.hasMany[B];if(A.manyToMany&&D.meta.name<A.type.meta.name){continue;}var y=b.get(I,B);if(M[B].length>0){M[B].forEach(function(P){O.push({Entity:D,coll:y,id:P});});}}else{b.set(I,B,b.jsonToEntityVal(M[B],G[B]));}}}}this.add(I);}}}K.flush(F,function(){b.asyncForEach(O,function(P,Q){P.Entity.load(K,F,P.id,function(R){P.coll.add(R);Q();});},function(){K.flush(F,N);});});};b.dumpToJson=function(y,A,B){var z=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"entities",optional:true,check:function(C){return C&&C.length&&!C.apply;},defaultValue:null},{name:"callback",optional:false,check:a.isCallback(),defaultValue:function(){}}]);y=z.tx;A=z.entities;B=z.callback;this.dump(y,A,function(C){B(JSON.stringify(C));});};b.loadFromJson=function(y,A,B){var z=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"jsonDump",optional:false},{name:"callback",optional:true,check:a.isCallback(),defaultValue:function(){}}]);y=z.tx;A=z.jsonDump;B=z.callback;this.load(y,JSON.parse(A),B);};function i(){if(b.typeMapper&&b.typeMapper.newUuid){return b.typeMapper.newUuid();}var B=[];var y="0123456789ABCDEF";for(var z=0;z<32;z++){B[z]=y.substr(Math.floor(Math.random()*16),1);}B[12]="4";B[16]=y.substr((B[16]&3)|8,1);var A=B.join("");return A;}b.createUUID=i;function t(y){if(b.typeMapper&&b.typeMapper.defaultValue){return b.typeMapper.defaultValue(y);}switch(y){case"TEXT":return"";case"BOOL":return false;default:if(y.indexOf("INT")!==-1){return 0;}else{if(y.indexOf("CHAR")!==-1){return"";}else{return null;}}}}function v(z,C){var y=z.length;for(var A=0;A<y;A++){var B=z[A];if(B.equals&&B.equals(C)){return true;}else{if(B===C){return true;}}}return false;}function j(z,C){var y=z.length;for(var A=0;A<y;A++){var B=z[A];if(B.equals&&B.equals(C)){z.splice(A,1);}else{if(B===C){z.splice(A,1);}}}}function p(A,y,z){this.obj=A;this.eventType=y;this.fn=z;}p.prototype.unsubscribe=function(){this.obj.removeEventListener(this.eventType,this.fn);};function n(){this.subscribers={};}n.prototype.addEventListener=function(y,z){if(!this.subscribers[y]){this.subscribers[y]=[];}this.subscribers[y].push(z);return new p(this,y,z);};n.prototype.removeEventListener=function(z,A){var B=this.subscribers[z];for(var y=0;y<B.length;y++){if(B[y]==A){this.subscribers[z].splice(y,1);return true;}}return false;};n.prototype.triggerEvent=function(z){if(!this.subscribers[z]){return;}var A=this.subscribers[z].slice(0);for(var y=0;y<A.length;y++){A[y].apply(null,arguments);}};function g(){}g.prototype.match=function(y){return true;};g.prototype.makeFit=function(y){};g.prototype.makeNotFit=function(y){};g.prototype.toUniqueString=function(){return"NULL";};g.prototype.subscribeGlobally=function(){};g.prototype.unsubscribeGlobally=function(){};function h(z,y){this.left=z;this.right=y;}h.prototype.match=function(y){return this.left.match(y)&&this.right.match(y);};h.prototype.makeFit=function(y){this.left.makeFit(y);this.right.makeFit(y);};h.prototype.makeNotFit=function(y){this.left.makeNotFit(y);this.right.makeNotFit(y);};h.prototype.toUniqueString=function(){return this.left.toUniqueString()+" AND "+this.right.toUniqueString();};h.prototype.subscribeGlobally=function(z,y){this.left.subscribeGlobally(z,y);this.right.subscribeGlobally(z,y);};h.prototype.unsubscribeGlobally=function(z,y){this.left.unsubscribeGlobally(z,y);this.right.unsubscribeGlobally(z,y);};function o(z,y){this.left=z;this.right=y;}o.prototype.match=function(y){return this.left.match(y)||this.right.match(y);};o.prototype.makeFit=function(y){this.left.makeFit(y);this.right.makeFit(y);};o.prototype.makeNotFit=function(y){this.left.makeNotFit(y);this.right.makeNotFit(y);};o.prototype.toUniqueString=function(){return this.left.toUniqueString()+" OR "+this.right.toUniqueString();};o.prototype.subscribeGlobally=function(z,y){this.left.subscribeGlobally(z,y);this.right.subscribeGlobally(z,y);};o.prototype.unsubscribeGlobally=function(z,y){this.left.unsubscribeGlobally(z,y);this.right.unsubscribeGlobally(z,y);};function r(A,y,z){this.property=A;this.operator=y.toLowerCase();this.value=z;}r.prototype.match=function(A){var y=this.value;var z=b.get(A,this.property);if(y&&y.getTime){y=Math.round(y.getTime()/1000)*1000;if(z&&z.getTime){z=Math.round(z.getTime()/1000)*1000;}}switch(this.operator){case"=":return z===y;break;case"!=":return z!==y;break;case"<":return z<y;break;case"<=":return z<=y;break;case">":return z>y;break;case">=":return z>=y;break;case"in":return v(y,z);break;case"not in":return !v(y,z);break;}};r.prototype.makeFit=function(y){if(this.operator==="="){b.set(y,this.property,this.value);}else{throw new Error("Sorry, can't perform makeFit for other filters than =");}};r.prototype.makeNotFit=function(y){if(this.operator==="="){b.set(y,this.property,null);}else{throw new Error("Sorry, can't perform makeNotFit for other filters than =");}};r.prototype.subscribeGlobally=function(z,y){b.subscribeToGlobalPropertyListener(z,y,this.property);};r.prototype.unsubscribeGlobally=function(z,y){b.unsubscribeFromGlobalPropertyListener(z,y,this.property);};r.prototype.toUniqueString=function(){var y=this.value;if(y&&y._type){y=y.id;}return this.property+this.operator+y;};b.NullFilter=g;b.AndFilter=h;b.OrFilter=o;b.PropertyFilter=r;b.uniqueQueryCollection=function(A){var z=A._entityName;if(A._items){return A;}if(!this.queryCollectionCache[z]){this.queryCollectionCache[z]={};}var y=A.toUniqueString();if(!this.queryCollectionCache[z][y]){this.queryCollectionCache[z][y]=A;}return this.queryCollectionCache[z][y];};function c(){}c.prototype=new n();c.prototype.oldAddEventListener=c.prototype.addEventListener;c.prototype.setupSubscriptions=function(){this._filter.subscribeGlobally(this,this._entityName);};c.prototype.teardownSubscriptions=function(){this._filter.unsubscribeGlobally(this,this._entityName);};c.prototype.addEventListener=function(y,z){var B=this;var A=this.oldAddEventListener(y,z);if(this.subscribers[y].length===1){this.setupSubscriptions();}A.oldUnsubscribe=A.unsubscribe;A.unsubscribe=function(){this.oldUnsubscribe();if(B.subscribers[y].length===0){B.teardownSubscriptions();}};return A;};c.prototype.persistQueries=function(){return[];};c.prototype.init=function(A,y,z){this._filter=new g();this._orderColumns=[];this._prefetchFields=[];this._entityName=y;this._constructor=z;this._limit=-1;this._skip=0;this._reverse=false;this._session=A||b;this.subscribers={};};c.prototype.toUniqueString=function(){var B=this._constructor.name+": "+this._entityName;B+="|Filter:";var y=[];B+=this._filter.toUniqueString();B+="|Values:";for(var A=0;A<y.length;A++){B+=y+"|^|";}B+="|Order:";for(var A=0;A<this._orderColumns.length;A++){var z=this._orderColumns[A];B+=z[0]+", "+z[1];}B+="|Prefetch:";for(var A=0;A<this._prefetchFields.length;A++){B+=this._prefetchFields[A];}B+="|Limit:";B+=this._limit;B+="|Skip:";B+=this._skip;B+="|Reverse:";B+=this._reverse;return B;};c.prototype.clone=function(A){var B=new (this._constructor)(this._session,this._entityName);B._filter=this._filter;B._prefetchFields=this._prefetchFields.slice(0);B._orderColumns=this._orderColumns.slice(0);B._limit=this._limit;B._skip=this._skip;B._reverse=this._reverse;if(A){var z={};for(var y in this.subscribers){if(this.subscribers.hasOwnProperty(y)){z[y]=this.subscribers[y].slice(0);}}B.subscribers=z;}else{B.subscribers=this.subscribers;}return B;};c.prototype.filter=function(A,y,z){var C=this.clone(true);C._filter=new h(this._filter,new r(A,y,z));var B=this._session;C=B.uniqueQueryCollection(C);return B.uniqueQueryCollection(C);};c.prototype.or=function(y){var z=this.clone(true);z._filter=new o(this._filter,y);return this._session.uniqueQueryCollection(z);};c.prototype.and=function(y){var z=this.clone(true);z._filter=new h(this._filter,y);return this._session.uniqueQueryCollection(z);};c.prototype.order=function(z,y){y=y===undefined?true:y;var A=this.clone();A._orderColumns.push([z,y]);return this._session.uniqueQueryCollection(A);};c.prototype.limit=function(z){var y=this.clone();y._limit=z;return this._session.uniqueQueryCollection(y);};c.prototype.skip=function(z){var y=this.clone();y._skip=z;return this._session.uniqueQueryCollection(y);};c.prototype.reverse=function(){var y=this.clone();y._reverse=true;return this._session.uniqueQueryCollection(y);};c.prototype.prefetch=function(y){var z=this.clone();z._prefetchFields.push(y);return this._session.uniqueQueryCollection(z);};c.prototype.selectJSON=function(y,A,E){var z=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"props",optional:false},{name:"callback",optional:false}]);var C=this._session;var B=this;y=z.tx;A=z.props;E=z.callback;if(!y){C.transaction(function(F){B.selectJSON(F,A,E);});return;}var D=k(this._entityName);this.list(function(F){var G=[];b.asyncForEach(F,function(H,I){H.selectJSON(y,A,function(J){G.push(J);I();});},function(){E(G);});});};c.prototype.add=function(y){if(!y.id||!y._type){throw new Error("Cannot add object of non-entity type onto collection.");}this._session.add(y);this._filter.makeFit(y);this.triggerEvent("add",this,y);this.triggerEvent("change",this,y);};c.prototype.addAll=function(A){for(var y=0;y<A.length;y++){var z=A[y];this._session.add(z);this._filter.makeFit(z);this.triggerEvent("add",this,z);}this.triggerEvent("change",this);};c.prototype.remove=function(y){if(!y.id||!y._type){throw new Error("Cannot remove object of non-entity type from collection.");}this._filter.makeNotFit(y);this.triggerEvent("remove",this,y);this.triggerEvent("change",this,y);};function q(z,y){this.init(z,y,q);}c.prototype.each=function(y,A){var z=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"eachFn",optional:true,check:a.isCallback()}]);y=z.tx;A=z.eachFn;this.list(y,function(C){for(var B=0;B<C.length;B++){A(C[B]);}});};c.prototype.forEach=c.prototype.each;c.prototype.one=function(y,A){var z=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"oneFn",optional:false,check:a.isCallback()}]);y=z.tx;A=z.oneFn;var B=this;this.limit(1).list(y,function(C){if(C.length===0){A(null);}else{A(C[0]);}});};q.prototype=new c();function m(z,y){this.init(z,y,m);}m.prototype=new q();m.prototype.add=function(y){this._session.add(y);this.triggerEvent("add",this,y);this.triggerEvent("change",this,y);};m.prototype.remove=function(y){this._session.remove(y);this.triggerEvent("remove",this,y);this.triggerEvent("change",this,y);};function u(z,y){this.init(z,y,b.ManyToManyDbQueryCollection);this._localAdded=[];this._localRemoved=[];}u.prototype=new q();u.prototype.initManyToMany=function(z,y){this._obj=z;this._coll=y;};u.prototype.add=function(y){if(!v(this._localAdded,y)){this._session.add(y);this._localAdded.push(y);this.triggerEvent("add",this,y);this.triggerEvent("change",this,y);}};u.prototype.addAll=function(A){for(var y=0;y<A.length;y++){var z=A[y];if(!v(this._localAdded,z)){this._session.add(z);this._localAdded.push(z);this.triggerEvent("add",this,z);}}this.triggerEvent("change",this);};u.prototype.clone=function(){var y=q.prototype.clone.call(this);y._localAdded=this._localAdded;y._localRemoved=this._localRemoved;y._obj=this._obj;y._coll=this._coll;return y;};u.prototype.remove=function(y){if(v(this._localAdded,y)){j(this._localAdded,y);}else{if(!v(this._localRemoved,y)){this._localRemoved.push(y);}}this.triggerEvent("remove",this,y);this.triggerEvent("change",this,y);};function x(y){this.init(b,null,x);this._items=y||[];}x.prototype=new c();x.prototype.clone=function(){var y=q.prototype.clone.call(this);y._items=this._items;return y;};x.prototype.add=function(y){if(!v(this._items,y)){this._session.add(y);this._items.push(y);this.triggerEvent("add",this,y);this.triggerEvent("change",this,y);}};x.prototype.addAll=function(A){for(var y=0;y<A.length;y++){var z=A[y];if(!v(this._items,z)){this._session.add(z);this._items.push(z);this.triggerEvent("add",this,z);}}this.triggerEvent("change",this);};x.prototype.remove=function(A){var y=this._items;for(var z=0;z<y.length;z++){if(y[z]===A){this._items.splice(z,1);this.triggerEvent("remove",this,A);this.triggerEvent("change",this,A);}}};x.prototype.list=function(y,E){var z=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"callback",optional:true,check:a.isCallback()}]);E=z.callback;if(!E||E.executeSql){E=arguments[1];}var D=this._items.slice(0);var C=this;var B=[];for(var A=0;A<D.length;A++){if(this._filter.match(D[A])){B.push(D[A]);}}B.sort(function(H,G){for(var J=0;J<C._orderColumns.length;J++){var I=C._orderColumns[J][0];var K=C._orderColumns[J][1];var F=b.get(H,I);var L=b.get(G,I);if(F<L){return K?-1:1;}else{if(F>L){return K?1:-1;}}}return 0;});if(this._skip){B.splice(0,this._skip);}if(this._limit>-1){B=B.slice(0,this._limit);}if(this._reverse){B.reverse();}if(E){E(B);}else{return B;}};x.prototype.destroyAll=function(y){if(!y||y.executeSql){y=arguments[1];}this._items=[];this.triggerEvent("change",this);if(y){y();}};x.prototype.count=function(z,B){var A=a.getArgs(arguments,[{name:"tx",optional:true,check:b.isTransaction,defaultValue:null},{name:"callback",optional:true,check:a.isCallback()}]);z=A.tx;B=A.callback;var y=this.list();if(B){B(y.length);}else{return y.length;}};b.QueryCollection=c;b.DbQueryCollection=q;b.ManyToManyDbQueryCollection=u;b.LocalQueryCollection=x;b.Observable=n;b.Subscription=p;b.AndFilter=h;b.OrFilter=o;b.PropertyFilter=r;}());var a={};(function(){a.getArgs=function(f,j){var d=0;var g=0;var i={};while(g<j.length){var h=j[g];var c=f[d];if(h.optional){if(c!==undefined&&h.check(c)){i[h.name]=c;d++;g++;}else{if(h.defaultValue!==undefined){i[h.name]=h.defaultValue;}g++;}}else{if(h.check&&!h.check(c)){throw new Error("Invalid value for argument: "+h.name+" Value: "+c);}i[h.name]=c;g++;d++;}}return i;};a.hasProperty=function(c){return function(d){return d&&d[c]!==undefined;};};a.hasType=function(c){return function(d){return typeof d===c;};};a.isCallback=function(){return function(c){return c&&c.apply;};};}());b.argspec=a;return b;}if(typeof JSON==="undefined"){JSON={};}if(!JSON.stringify){(function(){function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(holder,key,value);}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" ";}}else{if(typeof space==="string"){indent=space;}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":value});};}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return reviver.call(holder,key,value);}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());}var defaultTypeMapper={idType:"VARCHAR(32)",classNameType:"TEXT",columnType:function(a){switch(a){case"JSON":return"TEXT";case"BOOL":return"INT";case"DATE":return"INT";default:return a;}},inVar:function(b,a){return b;},outVar:function(b,a){return b;},outId:function(a){return"'"+a+"'";},dbValToEntityVal:function(b,a){if(b===null||b===undefined){return b;}switch(a){case"DATE":return new Date(parseInt(b,10)*1000);case"BOOL":return b===1||b==="1";break;case"INT":return +b;break;case"BIGINT":return +b;break;case"JSON":if(b){return JSON.parse(b);}else{return b;}break;default:return b;}},entityValToDbVal:function(b,a){if(b===undefined||b===null){return null;}else{if(a==="JSON"&&b){return JSON.stringify(b);}else{if(b.id){return b.id;}else{if(a==="BOOL"){return(b==="false")?0:(b?1:0);}else{if(a==="DATE"||b.getTime){b=new Date(b);return Math.round(b.getTime()/1000);}else{return b;}}}}}},inIdVar:function(a){return this.inVar(a,this.idType);},outIdVar:function(a){return this.outVar(a,this.idType);},entityIdToDbId:function(a){return this.entityValToDbVal(a,this.idType);}};function config(i,b){var g=i.argspec;i.typeMapper=b.typeMapper||defaultTypeMapper;i.generatedTables={};i.schemaSync=function(G,y,s){var t=g.getArgs(arguments,[{name:"tx",optional:true,check:i.isTransaction,defaultValue:null},{name:"callback",optional:true,check:g.isCallback(),defaultValue:function(){}},{name:"emulate",optional:true,check:g.hasType("boolean")}]);G=t.tx;y=t.callback;s=t.emulate;if(!G){var p=this;this.transaction(function(H){p.schemaSync(H,y,s);});return;}var F=[],B,D,C,x;var w=i.typeMapper;var n=i.getEntityMeta();for(var A in n){if(n.hasOwnProperty(A)){B=n[A];if(!B.isMixin){D=[];for(var v in B.fields){if(B.fields.hasOwnProperty(v)){D.push([v,B.fields[v]]);}}for(var u in B.hasOne){if(B.hasOne.hasOwnProperty(u)){C=B.hasOne[u].type.meta;D.push([u,w.idType]);F.push([b.createIndex(B.name,[u]),null]);}}for(var E=0;E<B.indexes.length;E++){F.push([b.createIndex(B.name,B.indexes[E].columns,B.indexes[E]),null]);}}for(var u in B.hasMany){if(B.hasMany.hasOwnProperty(u)&&B.hasMany[u].manyToMany){x=B.hasMany[u].tableName;if(!i.generatedTables[x]){var C=B.hasMany[u].type.meta;var m=B.hasMany[u].inverseProperty;if(C.hasMany[m].type.meta!=B){continue;}var r=B.name+"_"+u;var o=C.name+"_"+m;F.push([b.createIndex(x,[r]),null]);F.push([b.createIndex(x,[o]),null]);var q=[[r,w.idType],[o,w.idType]];if(B.isMixin){q.push([r+"_class",w.classNameType]);}if(C.isMixin){q.push([o+"_class",w.classNameType]);}F.push([b.createTable(x,q),null]);i.generatedTables[x]=true;}}}if(!B.isMixin){D.push(["id",w.idType,"PRIMARY KEY"]);i.generatedTables[B.name]=true;F.push([b.createTable(B.name,D),null]);}}}var z=i.schemaSyncHooks;for(var E=0;E<z.length;E++){z[E](G);}if(s){y(G);}else{j(G,F,function(H,I){y(G,I);});}};i.flush=function(m,q){var n=g.getArgs(arguments,[{name:"tx",optional:true,check:i.isTransaction},{name:"callback",optional:true,check:g.isCallback(),defaultValue:null}]);m=n.tx;q=n.callback;var p=this;if(!m){this.transaction(function(r){p.flush(r,q);});return;}var o=i.flushHooks;i.asyncForEach(o,function(r,s){r(p,m,s);},function(){var t=[];for(var u in p.trackedObjects){if(p.trackedObjects.hasOwnProperty(u)){t.push(p.trackedObjects[u]);}}var r=[];for(var u in p.objectsToRemove){if(p.objectsToRemove.hasOwnProperty(u)){r.push(p.objectsToRemove[u]);delete p.trackedObjects[u];}}p.objectsToRemove={};if(q){i.asyncParForEach(r,function(v,w){d(v,m,w);},function(v,w){if(w){return q(v,w);}i.asyncParForEach(t,function(x,y){h(x,m,y);},q);});}else{for(var s=0;s<t.length;s++){h(t[s],m);}for(var s=0;s<r.length;s++){d(r[s],m);}}});};i.reset=function(m,p){var n=g.getArgs(arguments,[{name:"tx",optional:true,check:i.isTransaction,defaultValue:null},{name:"callback",optional:true,check:g.isCallback(),defaultValue:function(){}}]);m=n.tx;p=n.callback;var o=this;if(!m){o.transaction(function(q){o.reset(q,p);});return;}this.schemaSync(m,function(){var r=[];for(var s in i.generatedTables){if(i.generatedTables.hasOwnProperty(s)){r.push(s);}}function t(){var u=r.pop();m.executeSql("DROP TABLE IF EXISTS `"+u+"`",null,function(){if(r.length>0){t();}else{q();}},q);}if(r.length>0){t();}else{q();}function q(u,v){o.clean();i.generatedTables={};if(p){p(u,v);}}},true);};function k(t,u,x,r){r=r||"";if(t.trackedObjects[x[r+"id"]]){return t.trackedObjects[x[r+"id"]];}var w=i.typeMapper;var v=i.getMeta(u);var s=i.define(u);if(!x[r+"id"]){return null;}var q=new s(t,undefined,true);q.id=w.dbValToEntityVal(x[r+"id"],w.idType);q._new=false;for(var n in x){if(x.hasOwnProperty(n)){if(n.substring(0,r.length)===r){var m=n.substring(r.length);if(m!="id"){q._data[m]=w.dbValToEntityVal(x[n],v.fields[m]||w.idType);}}}}return q;}function h(o,q,w){var y=i.getMeta(o._type);var x=i.typeMapper;var s=[];var v=[];var u=[];var r=[];if(o._new){for(var n in y.fields){if(y.fields.hasOwnProperty(n)){o._dirtyProperties[n]=true;}}}for(var n in o._dirtyProperties){if(o._dirtyProperties.hasOwnProperty(n)){s.push("`"+n+"`");var t=y.fields[n]||x.idType;v.push(x.entityValToDbVal(o._data[n],t));u.push(x.outVar("?",t));r.push("`"+n+"` = "+x.outVar("?",t));}}var m=[];for(var n in y.hasMany){if(y.hasMany.hasOwnProperty(n)){m=m.concat(i.get(o,n).persistQueries());}}j(q,m,function(){if(s.length===0){if(w){w();}return;}o._dirtyProperties={};if(o._new){s.push("id");v.push(x.entityIdToDbId(o.id));u.push(x.outIdVar("?"));var p="INSERT INTO `"+o._type+"` ("+s.join(", ")+") VALUES ("+u.join(", ")+")";o._new=false;q.executeSql(p,v,w,w);}else{var p="UPDATE `"+o._type+"` SET "+r.join(",")+" WHERE id = "+x.outId(o.id);q.executeSql(p,v,w,w);}});}i.save=h;function d(s,o,t){var r=i.getMeta(s._type);var n=i.typeMapper;var q=[["DELETE FROM `"+s._type+"` WHERE id = "+n.outId(s.id),null]];for(var m in r.hasMany){if(r.hasMany.hasOwnProperty(m)&&r.hasMany[m].manyToMany){var p=r.hasMany[m].tableName;q.push(["DELETE FROM `"+p+"` WHERE `"+r.name+"_"+m+"` = "+n.outId(s.id),null]);}}j(o,q,t);}function j(m,n,q){var p=[];for(var o=3;o<arguments.length;o++){p.push(arguments[o]);}i.asyncForEach(n,function(r,s){m.executeSql(r[0],r[1],s,function(t,u){console.log(u.message);s(t,u);});},function(r,s){if(s&&q){q(r,s);return;}if(q){q.apply(null,p);}});}i.executeQueriesSeq=j;i.QueryCollection.prototype.persistQueries=function(){return[];};var c=i.QueryCollection.prototype.clone;i.QueryCollection.prototype.clone=function(m){var n=c.call(this,m);n._additionalJoinSqls=this._additionalJoinSqls.slice(0);n._additionalWhereSqls=this._additionalWhereSqls.slice(0);n._additionalGroupSqls=this._additionalGroupSqls.slice(0);n._manyToManyFetch=this._manyToManyFetch;return n;};var a=i.QueryCollection.prototype.init;i.QueryCollection.prototype.init=function(o,m,n){a.call(this,o,m,n);this._manyToManyFetch=null;this._additionalJoinSqls=[];this._additionalWhereSqls=[];this._additionalGroupSqls=[];};var f=i.QueryCollection.prototype.toUniqueString;i.QueryCollection.prototype.toUniqueString=function(){var n=f.call(this);n+="|JoinSQLs:";for(var m=0;m<this._additionalJoinSqls.length;m++){n+=this._additionalJoinSqls[m];}n+="|WhereSQLs:";for(var m=0;m<this._additionalWhereSqls.length;m++){n+=this._additionalWhereSqls[m];}n+="|GroupSQLs:";for(var m=0;m<this._additionalGroupSqls.length;m++){n+=this._additionalGroupSqls[m];}if(this._manyToManyFetch){n+="|ManyToManyFetch:";n+=JSON.stringify(this._manyToManyFetch);}return n;};i.NullFilter.prototype.sql=function(o,n,m){return"1=1";};i.AndFilter.prototype.sql=function(o,n,m){return"("+this.left.sql(o,n,m)+" AND "+this.right.sql(o,n,m)+")";};i.OrFilter.prototype.sql=function(o,n,m){return"("+this.left.sql(o,n,m)+" OR "+this.right.sql(o,n,m)+")";};i.PropertyFilter.prototype.sql=function(u,n,s){var t=i.typeMapper;var v=n?"`"+n+"`.":"";var r=u.fields[this.property]||t.idType;if(this.operator==="="&&this.value===null){return v+"`"+this.property+"` IS NULL";}else{if(this.operator==="!="&&this.value===null){return v+"`"+this.property+"` IS NOT NULL";}else{if(this.operator==="in"){var p=this.value;var o=[];for(var m=0;m<p.length;m++){o.push("?");s.push(t.entityValToDbVal(p[m],r));}if(p.length===0){return"1 = 0";}else{return v+"`"+this.property+"` IN ("+o.join(", ")+")";}}else{if(this.operator==="not in"){var p=this.value;var o=[];for(var m=0;m<p.length;m++){o.push("?");s.push(t.entityValToDbVal(p[m],r));}if(p.length===0){return"1 = 1";}else{return v+"`"+this.property+"` NOT IN ("+o.join(", ")+")";}}else{var q=this.value;if(q===true||q===false){q=q?1:0;}s.push(t.entityValToDbVal(q,r));return v+"`"+this.property+"` "+this.operator+" "+t.outVar("?",r);}}}}};i.DbQueryCollection.prototype.list=function(G,r){var p=g.getArgs(arguments,[{name:"tx",optional:true,check:i.isTransaction,defaultValue:null},{name:"callback",optional:false,check:g.isCallback()}]);G=p.tx;r=p.callback;var u=this;var o=this._session;if(!G){o.transaction(function(I){u.list(I,r);});return;}var y=this._entityName;var z=i.getMeta(y);var q=i.typeMapper;if(z.isMixin){var w=[];i.asyncForEach(z.mixedIns,function(K,I){var J=u.clone();J._entityName=K.name;J.list(G,function(L){w=w.concat(L);I();});},function(){var I=new i.LocalQueryCollection(w);I._orderColumns=u._orderColumns;I._reverse=u._reverse;I.list(null,r);});return;}function F(L,M,J){var I=[q.inIdVar("`"+M+"`.id")+" AS "+J+"id"];for(var K in L.fields){if(L.fields.hasOwnProperty(K)){I.push(q.inVar("`"+M+"`.`"+K+"`",L.fields[K])+" AS `"+J+K+"`");}}for(var K in L.hasOne){if(L.hasOne.hasOwnProperty(K)){I.push(q.inIdVar("`"+M+"`.`"+K+"`")+" AS `"+J+K+"`");}}return I;}var p=[];var B=y+"_";var v="root";var H=F(z,v,B);var m="";var n=this._additionalWhereSqls.slice(0);var x=this._manyToManyFetch;if(x){m+="LEFT JOIN `"+x.table+"` AS mtm ON mtm.`"+x.inverseProp+"` = `root`.`id` ";n.push("mtm.`"+x.prop+"` = "+q.outId(x.id));}m+=this._additionalJoinSqls.join(" ");for(var D=0;D<this._prefetchFields.length;D++){var s=this._prefetchFields[D];var t=z.hasOne[s].type.meta;if(t.isMixin){throw new Error("cannot prefetch a mixin");}var C=t.name+"_"+s+"_tbl";H=H.concat(F(t,C,s+"_"));m+="LEFT JOIN `"+t.name+"` AS `"+C+"` ON `"+C+"`.`id` = `"+v+"`.`"+s+"` ";}var A="WHERE "+[this._filter.sql(z,v,p)].concat(n).join(" AND ");var E="SELECT "+H.join(", ")+" FROM `"+y+"` AS `"+v+"` "+m+" "+A;if(this._additionalGroupSqls.length>0){E+=this._additionalGroupSqls.join(" ");}if(this._orderColumns.length>0){E+=" ORDER BY "+this._orderColumns.map(function(I){return"`"+B+I[0]+"` "+(I[1]?"ASC":"DESC");}).join(", ");}if(this._limit>=0){E+=" LIMIT "+this._limit;}if(this._skip>0){E+=" OFFSET "+this._skip;}o.flush(G,function(){G.executeSql(E,p,function(O){var K=[];if(u._reverse){O.reverse();}for(var J=0;J<O.length;J++){var N=O[J];var P=k(o,y,N,B);for(var I=0;I<u._prefetchFields.length;I++){var M=u._prefetchFields[I];var L=z.hasOne[M].type.meta;P._data_obj[M]=k(o,L.name,N,M+"_");o.add(P._data_obj[M]);}K.push(P);o.add(P);}r(K);u.triggerEvent("list",u,K);});});};i.DbQueryCollection.prototype.destroyAll=function(p,y){var s=g.getArgs(arguments,[{name:"tx",optional:true,check:i.isTransaction,defaultValue:null},{name:"callback",optional:true,check:g.isCallback(),defaultValue:function(){}}]);p=s.tx;y=s.callback;var q=this;var u=this._session;if(!p){u.transaction(function(B){q.destroyAll(B,y);});return;}var w=this._entityName;var A=i.getMeta(w);var z=i.typeMapper;if(A.isMixin){i.asyncForEach(A.mixedIns,function(D,B){var C=q.clone();C._entityName=D.name;C.destroyAll(p,y);},y);return;}var x="";var v=this._additionalWhereSqls.slice(0);var r=this._manyToManyFetch;if(r){x+="LEFT JOIN `"+r.table+"` AS mtm ON mtm.`"+r.inverseProp+"` = `root`.`id` ";v.push("mtm.`"+r.prop+"` = "+z.outId(r.id));}x+=this._additionalJoinSqls.join(" ");var s=[];var t="WHERE "+[this._filter.sql(A,null,s)].concat(v).join(" AND ");var o="SELECT id FROM `"+w+"` "+x+" "+t;var n="DELETE FROM `"+w+"` "+x+" "+t;var m=s.slice(0);u.flush(p,function(){p.executeSql(o,s,function(C){for(var B=0;B<C.length;B++){delete u.trackedObjects[C[B].id];u.objectsRemoved.push({id:C[B].id,entity:w});}q.triggerEvent("change",q);p.executeSql(n,m,y,y);},y);});};i.DbQueryCollection.prototype.count=function(m,v){var p=g.getArgs(arguments,[{name:"tx",optional:true,check:i.isTransaction,defaultValue:null},{name:"callback",optional:false,check:g.isCallback()}]);m=p.tx;v=p.callback;var n=this;var r=this._session;if(m&&!m.executeSql){v=m;m=null;}if(!m){r.transaction(function(A){n.count(A,v);});return;}var t=this._entityName;var x=i.getMeta(t);var w=i.typeMapper;if(x.isMixin){var z=0;i.asyncForEach(x.mixedIns,function(C,A){var B=n.clone();B._entityName=C.name;B.count(m,function(D){z+=D;A();});},function(){v(z);});return;}var u="";var s=this._additionalWhereSqls.slice(0);var o=this._manyToManyFetch;if(o){u+="LEFT JOIN `"+o.table+"` AS mtm ON mtm.`"+o.inverseProp+"` = `root`.`id` ";s.push("mtm.`"+o.prop+"` = "+w.outId(o.id));}u+=this._additionalJoinSqls.join(" ");var p=[];var q="WHERE "+[this._filter.sql(x,"root",p)].concat(s).join(" AND ");var y="SELECT COUNT(*) AS cnt FROM `"+t+"` AS `root` "+u+" "+q;r.flush(m,function(){m.executeSql(y,p,function(A){v(parseInt(A[0].cnt,10));});});};i.ManyToManyDbQueryCollection.prototype.persistQueries=function(){var r=[];var w=i.getMeta(this._obj._type);var o=w.hasMany[this._coll].type.meta;var v=i.typeMapper;var x=w.hasMany[this._coll];var s=o.hasMany[x.inverseProperty];var n=x.mixin?x.mixin.meta.name:w.name;var p=s.mixin?s.mixin.meta.name:o.name;for(var q=0;q<this._localAdded.length;q++){var m=[n+"_"+this._coll,p+"_"+x.inverseProperty];var u=[v.outIdVar("?"),v.outIdVar("?")];var t=[v.entityIdToDbId(this._obj.id),v.entityIdToDbId(this._localAdded[q].id)];if(x.mixin){m.push(n+"_"+this._coll+"_class");u.push("?");t.push(w.name);}if(s.mixin){m.push(p+"_"+x.inverseProperty+"_class");u.push("?");t.push(o.name);}r.push(["INSERT INTO "+x.tableName+" (`"+m.join("`, `")+"`) VALUES ("+u.join(",")+")",t]);}this._localAdded=[];for(var q=0;q<this._localRemoved.length;q++){r.push(["DELETE FROM  "+x.tableName+" WHERE `"+n+"_"+this._coll+"` = "+v.outIdVar("?")+" AND `"+p+"_"+x.inverseProperty+"` = "+v.outIdVar("?"),[v.entityIdToDbId(this._obj.id),v.entityIdToDbId(this._localRemoved[q].id)]]);}this._localRemoved=[];return r;};}if(typeof exports!=="undefined"){exports.defaultTypeMapper=defaultTypeMapper;exports.config=config;}else{window=window||{};window.persistence=window.persistence||{};window.persistence.store=window.persistence.store||{};window.persistence.store.sql={defaultTypeMapper:defaultTypeMapper,config:config};}try{if(!window){window={};}}catch(e){window={};exports.console=console;}var persistence=(window&&window.persistence)?window.persistence:{};if(!persistence.store){persistence.store={};}persistence.store.websql={};persistence.store.websql.config=function(d,g,c,a){var b=null;d.transaction=function(h){if(!b){throw new Error("No ongoing database connection, please connect first.");}else{b.transaction(h);}};d.db=d.db||{};d.db.implementation="unsupported";d.db.conn=null;if(window&&window.openDatabase){d.db.implementation="html5";}else{if(window&&window.google&&google.gears){d.db.implementation="gears";}else{try{if(openDatabaseSync){d.db.implementation="html5-sync";}}catch(f){}}}d.db.html5={};d.db.html5.connect=function(m,k,h){var j={};var i=openDatabase(m,"1.0",k,h);j.transaction=function(n){return i.transaction(function(o){return n(d.db.html5.transaction(o));});};return j;};d.db.html5.transaction=function(h){var i={};i.executeSql=function(m,k,j,n){if(d.debug){console.log(m,k);}h.executeSql(m,k,function(p,o){if(j){var r=[];for(var q=0;q<o.rows.length;q++){r.push(o.rows.item(q));}j(r);}},n);};return i;};d.db.html5Sync={};d.db.html5Sync.connect=function(m,k,h){var j={};var i=openDatabaseSync(m,"1.0",k,h);j.transaction=function(n){return i.transaction(function(o){return n(d.db.html5Sync.transaction(o));});};return j;};d.db.html5Sync.transaction=function(h){var i={};i.executeSql=function(p,m,k,q){if(m==null){m=[];}if(d.debug){console.log(p,m);}var j=h.executeSql(p,m);if(j){if(k){var o=[];for(var n=0;n<j.rows.length;n++){o.push(j.rows.item(n));}k(o);}}};return i;};d.db.gears={};d.db.gears.connect=function(j){var i={};var h=google.gears.factory.create("beta.database");h.open(j);i.transaction=function(k){k(d.db.gears.transaction(h));};return i;};d.db.gears.transaction=function(i){var h={};h.executeSql=function(q,n,k,r){if(d.debug){console.log(q,n);}var m=i.execute(q,n);if(k){var p=[];while(m.isValidRow()){var j={};for(var o=0;o<m.fieldCount();o++){j[m.fieldName(o)]=m.field(o);}p.push(j);m.next();}k(p);}};return h;};d.db.connect=function(j,i,h){if(d.db.implementation=="html5"){return d.db.html5.connect(j,i,h);}else{if(d.db.implementation=="html5-sync"){return d.db.html5Sync.connect(j,i,h);}else{if(d.db.implementation=="gears"){return d.db.gears.connect(j);}}}};d.store.websql.sqliteDialect={createTable:function(k,n){var j=d.typeMapper;var p="CREATE TABLE IF NOT EXISTS `"+k+"` (";var h=[];for(var m=0;m<n.length;m++){var o=n[m];h.push("`"+o[0]+"` "+j.columnType(o[1])+(o[2]?" "+o[2]:""));}p+=h.join(", ");p+=")";return p;},createIndex:function(h,j,i){i=i||{};return"CREATE "+(i.unique?"UNIQUE ":"")+"INDEX IF NOT EXISTS `"+h+"__"+j.join("_")+"` ON `"+h+"` ("+j.map(function(k){return"`"+k+"`";}).join(", ")+")";}};d.store.sql.config(d,d.store.websql.sqliteDialect);b=d.db.connect(g,c,a);if(!b){throw new Error("No supported database found in this browser.");}};try{exports.persistence=persistence;}catch(e){}try{if(!window){window={};}}catch(e){window={};exports.console=console;}var persistence=(window&&window.persistence)?window.persistence:{};if(!persistence.store){persistence.store={};}persistence.store.memory={};persistence.store.memory.config=function(d,h){var b=d.argspec;h=h||"persistenceData";var a={};d.getAllObjects=function(){return a;};var g=d.add;d.add=function(j){if(!this.trackedObjects[j.id]){g.call(this,j);var i=j._type;if(!a[i]){a[i]=new d.LocalQueryCollection();a[i]._session=d;}a[i].add(j);}return this;};var f=d.remove;d.remove=function(j){f.call(this,j);var i=j._type;a[i].remove(j);};d.schemaSync=function(i,m,j){var k=b.getArgs(arguments,[{name:"tx",optional:true,check:d.isTransaction,defaultValue:null},{name:"callback",optional:true,check:b.isCallback(),defaultValue:function(){}},{name:"emulate",optional:true,check:b.hasType("boolean")}]);k.callback();};d.flush=function(i,m){var j=b.getArgs(arguments,[{name:"tx",optional:true,check:d.isTransaction},{name:"callback",optional:true,check:b.isCallback(),defaultValue:function(){}}]);var k=d.flushHooks;d.asyncForEach(k,function(n,o){n(session,i,o);},function(){var n=d.trackedObjects;for(var o in n){if(n.hasOwnProperty(o)){if(d.objectsToRemove.hasOwnProperty(o)){delete n[o];}else{n[o]._dirtyProperties={};}}}j.callback();});};d.transaction=function(i){setTimeout(function(){i({executeSql:function(){}});},0);};d.loadFromLocalStorage=function(j){var i=window.localStorage.getItem(h);if(i){this.loadFromJson(i,j);}else{j&&j();}};d.saveToLocalStorage=function(i){this.dumpToJson(function(j){window.localStorage.setItem(h,j);if(i){i();}});};d.reset=function(i,k){var j=b.getArgs(arguments,[{name:"tx",optional:true,check:d.isTransaction,defaultValue:null},{name:"callback",optional:true,check:b.isCallback(),defaultValue:function(){}}]);i=j.tx;k=j.callback;a={};this.clean();k();};d.close=function(){};function c(i){var j=a[i._entityName];if(!j){j=new d.LocalQueryCollection();}j=j.clone();j._filter=i._filter;j._prefetchFields=i._prefetchFields;j._orderColumns=i._orderColumns;j._limit=i._limit;j._skip=i._skip;j._reverse=i._reverse;return j;}d.DbQueryCollection.prototype.list=function(i,m){var j=b.getArgs(arguments,[{name:"tx",optional:true,check:d.isTransaction,defaultValue:null},{name:"callback",optional:false,check:b.isCallback()}]);i=j.tx;m=j.callback;var k=c(this);k.list(null,m);};d.DbQueryCollection.prototype.destroyAll=function(i,m){var j=b.getArgs(arguments,[{name:"tx",optional:true,check:d.isTransaction,defaultValue:null},{name:"callback",optional:true,check:b.isCallback(),defaultValue:function(){}}]);i=j.tx;m=j.callback;var k=c(this);k.destroyAll(null,m);};d.DbQueryCollection.prototype.count=function(i,m){var j=b.getArgs(arguments,[{name:"tx",optional:true,check:d.isTransaction,defaultValue:null},{name:"callback",optional:false,check:b.isCallback()}]);i=j.tx;m=j.callback;var k=c(this);k.count(null,m);};d.ManyToManyDbQueryCollection=function(j,i){this.init(j,i,d.ManyToManyDbQueryCollection);this._items=[];};d.ManyToManyDbQueryCollection.prototype=new d.LocalQueryCollection();d.ManyToManyDbQueryCollection.prototype.initManyToMany=function(j,i){this._obj=j;this._coll=i;};d.ManyToManyDbQueryCollection.prototype.add=function(j,k){d.LocalQueryCollection.prototype.add.call(this,j);if(!k){var m=d.getMeta(this._obj._type);var i=m.hasMany[this._coll].inverseProperty;d.get(j,i).add(this._obj,true);}};d.ManyToManyDbQueryCollection.prototype.remove=function(j,k){d.LocalQueryCollection.prototype.remove.call(this,j);if(!k){var m=d.getMeta(this._obj._type);var i=m.hasMany[this._coll].inverseProperty;d.get(j,i).remove(this._obj,true);}};};try{exports.config=persistence.store.memory.config;exports.getSession=function(){return persistence;};}catch(e){}try{if(!window){window={};}}catch(e){window={};exports.console=console;}var persistence=(window&&window.persistence)?window.persistence:{};persistence.search={};persistence.search.config=function(g,a){var h={and:true,the:true,are:true};var c=g.argspec;function d(m,n){if(!(m in h||(n&&m.length<3))){m=m.replace(/ies$/,"y");m=m.length>3?m.replace(/s$/,""):m;return m;}else{return false;}}function f(r){r=r||"";var q=r.toLowerCase().split(/[^\w\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/);var o={};for(var n=0;n<q.length;n++){var m=d(q[n]);if(m){var p="_"+m;if(p in o){o[p]++;}else{o[p]=1;}}}return o;}function i(r,u,o){r=r.toLowerCase().replace(/['"]/,"").replace(/(^\s+|\s+$)/g,"");var q=r.split(/\s+/);var s=[];var n=null;for(var p=0;p<q.length;p++){var m=d(q[p]);if(!m){continue;}if(m.search(/:$/)!==-1){n=m.substring(0,m.length-1);continue;}var t="(";if(m.search(/\*/)!==-1){t+="`"+u+"`.`word` LIKE '"+m.replace(/\*/g,"%")+"'";}else{if(o){t+="`"+u+"`.`word` LIKE '"+m+"%'";}else{t+="`"+u+"`.`word` = '"+m+"'";}}if(n){t+=" AND `"+u+"`.`prop` = '"+n+"'";}t+=")";s.push(t);}return s.length===0?["1=1"]:s;}var j={};g.searchQueryCollSubscribers=j;function k(n,m){this.query=n;this.entityName=m;}k.prototype.match=function(s){var q=g.getMeta(this.entityName);var m=this.query.toLowerCase();var r="";for(var n in s){if(q.textIndex.hasOwnProperty(n)){if(s[n]){r+=s[n];}}}r=r.toLowerCase();return r&&r.indexOf(m)!==-1;};k.prototype.sql=function(m){return"1=1";};k.prototype.subscribeGlobally=function(n,m){var q=g.getMeta(m);for(var o in q.textIndex){if(q.textIndex.hasOwnProperty(o)){g.subscribeToGlobalPropertyListener(n,m,o);}}};k.prototype.unsubscribeGlobally=function(n,m){var q=g.getMeta(m);for(var o in q.textIndex){if(q.textIndex.hasOwnProperty(o)){g.unsubscribeFromGlobalPropertyListener(n,m,o);}}};k.prototype.toUniqueString=function(){return"SEARCH: "+this.query;};function b(p,n,o,m){this.init(p,n,b);this.subscribers=j[n];this._filter=new k(o,n);if(o){this._additionalJoinSqls.push(", `"+n+"_Index`");this._additionalWhereSqls.push("`root`.id = `"+n+"_Index`.`entityId`");this._additionalWhereSqls.push("("+i(o,n+"_Index",m).join(" OR ")+")");this._additionalGroupSqls.push(" GROUP BY (`"+n+"_Index`.`entityId`)");this._additionalGroupSqls.push(" ORDER BY SUM(`"+n+"_Index`.`occurrences`) DESC");}}b.prototype=new g.DbQueryCollection();b.prototype.oldClone=b.prototype.clone;b.prototype.clone=function(){var n=this.oldClone(false);var m=this._entityName;n.subscribers=j[m];return n;};b.prototype.order=function(){for(var m=0;m<this._additionalGroupSqls.length;m++){if(this._additionalGroupSqls[m].indexOf("ORDER BY")!==-1){this._additionalGroupSqls.splice(m,1);}}return g.DbQueryCollection.prototype.order.apply(this,arguments);};g.entityDecoratorHooks.push(function(m){m.textIndex=function(o){if(!m.meta.textIndex){m.meta.textIndex={};}m.meta.textIndex[o]=true;var n=m.meta.name;if(!j[n]){j[n]={};}};m.search=function(q,p,n){var o=c.getArgs(arguments,[{name:"session",optional:true,check:function(r){return r.schemaSync;},defaultValue:g},{name:"query",optional:false,check:c.hasType("string")},{name:"prefixByDefault",optional:false}]);q=o.session;p=o.query;n=o.prefixByDefault;return q.uniqueQueryCollection(new b(q,m.meta.name,p,n));};});g.schemaSyncHooks.push(function(m){var q=g.getEntityMeta();var n=[];for(var o in q){var p=q[o];if(p.textIndex){n.push([a.createTable(o+"_Index",[["entityId","VARCHAR(32)"],["prop","VARCHAR(30)"],["word","VARCHAR(100)"],["occurrences","INT"]]),null]);n.push([a.createIndex(o+"_Index",["prop","word"]),null]);n.push([a.createIndex(o+"_Index",["word"]),null]);g.generatedTables[o+"_Index"]=true;}}n.reverse();g.executeQueriesSeq(m,n);});g.flushHooks.push(function(u,t,v){var s=[];for(var o in u.getTrackedObjects()){if(u.getTrackedObjects().hasOwnProperty(o)){var r=u.getTrackedObjects()[o];var w=u.define(r._type).meta;var x=r._type+"_Index";if(w.textIndex){for(var n in r._dirtyProperties){if(r._dirtyProperties.hasOwnProperty(n)&&n in w.textIndex){s.push(["DELETE FROM `"+x+"` WHERE `entityId` = ? AND `prop` = ?",[o,n]]);var q=f(r._data[n]);for(var m in q){if(q.hasOwnProperty(m)){s.push(["INSERT INTO `"+x+"` VALUES (?, ?, ?, ?)",[r.id,n,m.substring(1),q[m]]]);}}}}}}}for(var o in g.getObjectsToRemove()){if(g.getObjectsToRemove().hasOwnProperty(o)){var r=g.getObjectsToRemove()[o];var w=g.getEntityMeta()[r._type];if(w.textIndex){s.push(["DELETE FROM `"+r._type+"_Index` WHERE `entityId` = ?",[o]]);}}}s.reverse();g.executeQueriesSeq(t,s,v);});};if(typeof exports==="object"){exports.config=persistence.search.config;}if(window&&window.google&&google.gears||window.openDatabase){try{persistence.store.websql.config(persistence,"draw","mobl database",1024*1024,"1.0");}catch(e){alert("Could not connect to the database, sometimes a refresh helps.");}persistence.search.config(persistence,persistence.store.websql.sqliteDialect);}else{persistence.store.memory.config(persistence);}(function(){if(window.google&&google.gears){return;}var a=null;if(typeof GearsFactory!="undefined"){a=new GearsFactory();}else{try{a=new ActiveXObject("Gears.Factory");if(a.getBuildInfo().indexOf("ie_mobile")!=-1){a.privateSetGlobalObject(this);}}catch(b){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){a=document.createElement("object");a.style.display="none";a.width=0;a.height=0;a.type="application/x-googlegears";document.documentElement.appendChild(a);}}}if(!a){return;}if(!window.google){google={};}if(!google.gears){google.gears={factory:a};}})();jQuery.ui||(function(q){var j=q.fn.remove,p=q.browser.mozilla&&(parseFloat(q.browser.version)<1.9);q.ui={version:"1.7.2",plugin:{add:function(c,b,f){var a=q.ui[c].prototype;for(var d in f){a.plugins[d]=a.plugins[d]||[];a.plugins[d].push([b,f[d]]);}},call:function(d,b,c){var f=d.plugins[b];if(!f||!d.element[0].parentNode){return;}for(var a=0;a<f.length;a++){if(d.options[f[a][0]]){f[a][1].apply(d.element,c);}}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b);},hasScroll:function(a,c){if(q(a).css("overflow")=="hidden"){return false;}var d=(c&&c=="left")?"scrollLeft":"scrollTop",b=false;if(a[d]>0){return true;}a[d]=1;b=(a[d]>0);a[d]=0;return b;},isOverAxis:function(b,c,a){return(b>c)&&(b<(c+a));},isOver:function(f,c,g,a,d,b){return q.ui.isOverAxis(f,g,d)&&q.ui.isOverAxis(c,a,b);},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(p){var n=q.attr,o=q.fn.removeAttr,k="http://www.w3.org/2005/07/aaa",s=/^aria-/,r=/^wairole:/;q.attr=function(c,d,b){var a=b!==undefined;return(d=="role"?(a?n.call(this,c,d,"wairole:"+b):(n.apply(this,arguments)||"").replace(r,"")):(s.test(d)?(a?c.setAttributeNS(k,d.replace(s,"aaa:"),b):n.call(this,c,d.replace(s,"aaa:"))):n.apply(this,arguments)));};q.fn.removeAttr=function(a){return(s.test(a)?this.each(function(){this.removeAttributeNS(k,a.replace(s,""));}):o.call(this,a));};}q.fn.extend({remove:function(){q("*",this).add(this).each(function(){q(this).triggerHandler("remove");});return j.apply(this,arguments);},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui");},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false;});},scrollParent:function(){var a;if((q.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){a=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(q.curCSS(this,"position",1))&&(/(auto|scroll)/).test(q.curCSS(this,"overflow",1)+q.curCSS(this,"overflow-y",1)+q.curCSS(this,"overflow-x",1));}).eq(0);}else{a=this.parents().filter(function(){return(/(auto|scroll)/).test(q.curCSS(this,"overflow",1)+q.curCSS(this,"overflow-y",1)+q.curCSS(this,"overflow-x",1));}).eq(0);}return(/fixed/).test(this.css("position"))||!a.length?q(document):a;}});q.extend(q.expr[":"],{data:function(a,b,c){return !!q.data(a,c[3]);},focusable:function(b){var a=b.nodeName.toLowerCase(),c=q.attr(b,"tabindex");return(/input|select|textarea|button|object/.test(a)?!b.disabled:"a"==a||"area"==a?b.href||!isNaN(c):!isNaN(c))&&!q(b)["area"==a?"parents":"closest"](":hidden").length;},tabbable:function(a){var b=q.attr(a,"tabindex");return(isNaN(b)||b>=0)&&q(a).is(":focusable");}});function m(a,g,f,b){function c(h){var i=q[a][g][h]||[];return(typeof i=="string"?i.split(/,?\s+/):i);}var d=c("getter");if(b.length==1&&typeof b[0]=="string"){d=d.concat(c("getterSetter"));}return(q.inArray(f,d)!=-1);}q.widget=function(b,c){var a=b.split(".")[0];b=b.split(".")[1];q.fn[b]=function(f){var h=(typeof f=="string"),g=Array.prototype.slice.call(arguments,1);if(h&&f.substring(0,1)=="_"){return this;}if(h&&m(a,b,f,g)){var d=q.data(this[0],b);return(d?d[f].apply(d,g):undefined);}return this.each(function(){var i=q.data(this,b);(!i&&!h&&q.data(this,b,new q[a][b](this,f))._init());(i&&h&&q.isFunction(i[f])&&i[f].apply(i,g));});};q[a]=q[a]||{};q[a][b]=function(f,g){var d=this;this.namespace=a;this.widgetName=b;this.widgetEventPrefix=q[a][b].eventPrefix||b;this.widgetBaseClass=a+"-"+b;this.options=q.extend({},q.widget.defaults,q[a][b].defaults,q.metadata&&q.metadata.get(f)[b],g);this.element=q(f).bind("setData."+b,function(i,t,h){if(i.target==f){return d._setData(t,h);}}).bind("getData."+b,function(h,i){if(h.target==f){return d._getData(i);}}).bind("remove",function(){return d.destroy();});};q[a][b].prototype=q.extend({},q.widget.prototype,c);q[a][b].getterSetter="option";};q.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled");},option:function(b,a){var c=b,d=this;if(typeof b=="string"){if(a===undefined){return this._getData(b);}c={};c[b]=a;}q.each(c,function(g,f){d._setData(g,f);});},_getData:function(a){return this.options[a];},_setData:function(b,a){this.options[b]=a;if(b=="disabled"){this.element[a?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",a);}},enable:function(){this._setData("disabled",false);},disable:function(){this._setData("disabled",true);},_trigger:function(b,a,h){var f=this.options[b],d=(b==this.widgetEventPrefix?b:this.widgetEventPrefix+b);a=q.Event(a);a.type=d;if(a.originalEvent){for(var c=q.event.props.length,g;c;){g=q.event.props[--c];a[g]=a.originalEvent[g];}}this.element.trigger(a,h);return !(q.isFunction(f)&&f.call(this.element[0],a,h)===false||a.isDefaultPrevented());}};q.widget.defaults={disabled:false};q.ui.mouse={_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b);}).bind("click."+this.widgetName,function(b){if(a._preventClickEvent){a._preventClickEvent=false;b.stopImmediatePropagation();return false;}});if(q.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on");}this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);(q.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable));},_mouseDown:function(b){b.originalEvent=b.originalEvent||{};if(b.originalEvent.mouseHandled){return;}(this._mouseStarted&&this._mouseUp(b));this._mouseDownEvent=b;var c=this,a=(b.which==1),d=(typeof this.options.cancel=="string"?q(b.target).parents().add(b.target).filter(this.options.cancel).length:false);if(!a||d||!this._mouseCapture(b)){return true;}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true;},this.options.delay);}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=(this._mouseStart(b)!==false);if(!this._mouseStarted){b.preventDefault();return true;}}this._mouseMoveDelegate=function(f){return c._mouseMove(f);};this._mouseUpDelegate=function(f){return c._mouseUp(f);};q(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);(q.browser.safari||b.preventDefault());b.originalEvent.mouseHandled=true;return true;},_mouseMove:function(a){if(q.browser.msie&&!a.button){return this._mouseUp(a);}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault();}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,a)!==false);(this._mouseStarted?this._mouseDrag(a):this._mouseUp(a));}return !this._mouseStarted;},_mouseUp:function(a){q(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(a.target==this._mouseDownEvent.target);this._mouseStop(a);}return false;},_mouseDistanceMet:function(a){return(Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance);},_mouseDelayMet:function(a){return this.mouseDelayMet;},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return true;}};q.ui.mouse.defaults={cancel:null,distance:1,delay:0};})(jQuery);jQuery.effects||(function(i){i.effects={version:"1.7.2",save:function(b,a){for(var c=0;c<a.length;c++){if(a[c]!==null){b.data("ec.storage."+a[c],b[0].style[a[c]]);}}},restore:function(b,a){for(var c=0;c<a.length;c++){if(a[c]!==null){b.css(a[c],b.data("ec.storage."+a[c]));}}},setMode:function(b,a){if(a=="toggle"){a=b.is(":hidden")?"show":"hide";}return a;},getBaseline:function(c,b){var a,d;switch(c[0]){case"top":a=0;break;case"middle":a=0.5;break;case"bottom":a=1;break;default:a=c[0]/b.height;}switch(c[1]){case"left":d=0;break;case"center":d=0.5;break;case"right":d=1;break;default:d=c[1]/b.width;}return{x:d,y:a};},createWrapper:function(k){if(k.parent().is(".ui-effects-wrapper")){return k.parent();}var d={width:k.outerWidth(true),height:k.outerHeight(true),"float":k.css("float")};k.wrap('<div class="ui-effects-wrapper" style="font-size:100%;background:transparent;border:none;margin:0;padding:0"></div>');var a=k.parent();if(k.css("position")=="static"){a.css({position:"relative"});k.css({position:"relative"});}else{var b=k.css("top");if(isNaN(parseInt(b,10))){b="auto";}var c=k.css("left");if(isNaN(parseInt(c,10))){c="auto";}a.css({position:k.css("position"),top:b,left:c,zIndex:k.css("z-index")}).show();k.css({position:"relative",top:0,left:0});}a.css(d);return a;},removeWrapper:function(a){if(a.parent().is(".ui-effects-wrapper")){return a.parent().replaceWith(a);}return a;},setTransition:function(c,a,d,b){b=b||{};i.each(a,function(m,n){unit=c.cssUnit(n);if(unit[0]>0){b[n]=unit[0]*d+unit[1];}});return b;},animateClass:function(d,c,a,b){var n=(typeof a=="function"?a:(b?b:null));var m=(typeof a=="string"?a:null);return this.each(function(){var u={};var w=i(this);var v=w.attr("style")||"";if(typeof v=="object"){v=v.cssText;}if(d.toggle){w.hasClass(d.toggle)?d.remove=d.toggle:d.add=d.toggle;}var s=i.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(d.add){w.addClass(d.add);}if(d.remove){w.removeClass(d.remove);}var k=i.extend({},(document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle));if(d.add){w.removeClass(d.add);}if(d.remove){w.addClass(d.remove);}for(var t in k){if(typeof k[t]!="function"&&k[t]&&t.indexOf("Moz")==-1&&t.indexOf("length")==-1&&k[t]!=s[t]&&(t.match(/color/i)||(!t.match(/color/i)&&!isNaN(parseInt(k[t],10))))&&(s.position!="static"||(s.position=="static"&&!t.match(/left|top|bottom|right/)))){u[t]=k[t];}}w.animate(u,c,m,function(){if(typeof i(this).attr("style")=="object"){i(this).attr("style")["cssText"]="";i(this).attr("style")["cssText"]=v;}else{i(this).attr("style",v);}if(d.add){i(this).addClass(d.add);}if(d.remove){i(this).removeClass(d.remove);}if(n){n.apply(this,arguments);}});});}};function j(d,k){var b=d[1]&&d[1].constructor==Object?d[1]:{};if(k){b.mode=k;}var c=d[1]&&d[1].constructor!=Object?d[1]:(b.duration?b.duration:d[2]);c=i.fx.off?0:typeof c==="number"?c:i.fx.speeds[c]||i.fx.speeds._default;var a=b.callback||(i.isFunction(d[1])&&d[1])||(i.isFunction(d[2])&&d[2])||(i.isFunction(d[3])&&d[3]);return[d[0],b,c,a];}i.fn.extend({_show:i.fn.show,_hide:i.fn.hide,__toggle:i.fn.toggle,_addClass:i.fn.addClass,_removeClass:i.fn.removeClass,_toggleClass:i.fn.toggleClass,effect:function(c,d,b,a){return i.effects[c]?i.effects[c].call(this,{method:c,options:d||{},duration:b,callback:a}):null;},show:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._show.apply(this,arguments);}else{return this.effect.apply(this,j(arguments,"show"));}},hide:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))){return this._hide.apply(this,arguments);}else{return this.effect.apply(this,j(arguments,"hide"));}},toggle:function(){if(!arguments[0]||(arguments[0].constructor==Number||(/(slow|normal|fast)/).test(arguments[0]))||(i.isFunction(arguments[0])||typeof arguments[0]=="boolean")){return this.__toggle.apply(this,arguments);}else{return this.effect.apply(this,j(arguments,"toggle"));}},addClass:function(c,d,a,b){return d?i.effects.animateClass.apply(this,[{add:c},d,a,b]):this._addClass(c);},removeClass:function(c,d,a,b){return d?i.effects.animateClass.apply(this,[{remove:c},d,a,b]):this._removeClass(c);},toggleClass:function(c,d,a,b){return((typeof d!=="boolean")&&d)?i.effects.animateClass.apply(this,[{toggle:c},d,a,b]):this._toggleClass(c,d);},morph:function(k,c,d,a,b){return i.effects.animateClass.apply(this,[{add:c,remove:k},d,a,b]);},switchClass:function(){return this.morph.apply(this,arguments);},cssUnit:function(c){var b=this.css(c),a=[];i.each(["em","px","%","pt"],function(m,d){if(b.indexOf(d)>0){a=[parseFloat(b),d];}});return a;}});i.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(a,b){i.fx.step[b]=function(c){if(c.state==0){c.start=h(c.elem,b);c.end=f(c.end);}c.elem.style[b]="rgb("+[Math.max(Math.min(parseInt((c.pos*(c.end[0]-c.start[0]))+c.start[0],10),255),0),Math.max(Math.min(parseInt((c.pos*(c.end[1]-c.start[1]))+c.start[1],10),255),0),Math.max(Math.min(parseInt((c.pos*(c.end[2]-c.start[2]))+c.start[2],10),255),0)].join(",")+")";};});function f(a){var b;if(a&&a.constructor==Array&&a.length==3){return a;}if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){return[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10)];}if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a)){return[parseFloat(b[1])*2.55,parseFloat(b[2])*2.55,parseFloat(b[3])*2.55];}if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a)){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)];}if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a)){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)];}if(b=/rgba\(0, 0, 0, 0\)/.exec(a)){return g.transparent;}return g[i.trim(a).toLowerCase()];}function h(a,c){var b;do{b=i.curCSS(a,c);if(b!=""&&b!="transparent"||i.nodeName(a,"body")){break;}c="backgroundColor";}while(a=a.parentNode);return f(b);}var g={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};i.easing.jswing=i.easing.swing;i.extend(i.easing,{def:"easeOutQuad",swing:function(d,c,k,a,b){return i.easing[i.easing.def](d,c,k,a,b);},easeInQuad:function(d,c,k,a,b){return a*(c/=b)*c+k;},easeOutQuad:function(d,c,k,a,b){return -a*(c/=b)*(c-2)+k;},easeInOutQuad:function(d,c,k,a,b){if((c/=b/2)<1){return a/2*c*c+k;}return -a/2*((--c)*(c-2)-1)+k;},easeInCubic:function(d,c,k,a,b){return a*(c/=b)*c*c+k;},easeOutCubic:function(d,c,k,a,b){return a*((c=c/b-1)*c*c+1)+k;},easeInOutCubic:function(d,c,k,a,b){if((c/=b/2)<1){return a/2*c*c*c+k;}return a/2*((c-=2)*c*c+2)+k;},easeInQuart:function(d,c,k,a,b){return a*(c/=b)*c*c*c+k;},easeOutQuart:function(d,c,k,a,b){return -a*((c=c/b-1)*c*c*c-1)+k;},easeInOutQuart:function(d,c,k,a,b){if((c/=b/2)<1){return a/2*c*c*c*c+k;}return -a/2*((c-=2)*c*c*c-2)+k;},easeInQuint:function(d,c,k,a,b){return a*(c/=b)*c*c*c*c+k;},easeOutQuint:function(d,c,k,a,b){return a*((c=c/b-1)*c*c*c*c+1)+k;},easeInOutQuint:function(d,c,k,a,b){if((c/=b/2)<1){return a/2*c*c*c*c*c+k;}return a/2*((c-=2)*c*c*c*c+2)+k;},easeInSine:function(d,c,k,a,b){return -a*Math.cos(c/b*(Math.PI/2))+a+k;},easeOutSine:function(d,c,k,a,b){return a*Math.sin(c/b*(Math.PI/2))+k;},easeInOutSine:function(d,c,k,a,b){return -a/2*(Math.cos(Math.PI*c/b)-1)+k;},easeInExpo:function(d,c,k,a,b){return(c==0)?k:a*Math.pow(2,10*(c/b-1))+k;},easeOutExpo:function(d,c,k,a,b){return(c==b)?k+a:a*(-Math.pow(2,-10*c/b)+1)+k;},easeInOutExpo:function(d,c,k,a,b){if(c==0){return k;}if(c==b){return k+a;}if((c/=b/2)<1){return a/2*Math.pow(2,10*(c-1))+k;}return a/2*(-Math.pow(2,-10*--c)+2)+k;},easeInCirc:function(d,c,k,a,b){return -a*(Math.sqrt(1-(c/=b)*c)-1)+k;},easeOutCirc:function(d,c,k,a,b){return a*Math.sqrt(1-(c=c/b-1)*c)+k;},easeInOutCirc:function(d,c,k,a,b){if((c/=b/2)<1){return -a/2*(Math.sqrt(1-c*c)-1)+k;}return a/2*(Math.sqrt(1-(c-=2)*c)+1)+k;},easeInElastic:function(p,n,q,a,b){var d=1.70158;var c=0;var o=a;if(n==0){return q;}if((n/=b)==1){return q+a;}if(!c){c=b*0.3;}if(o<Math.abs(a)){o=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/o);}return -(o*Math.pow(2,10*(n-=1))*Math.sin((n*b-d)*(2*Math.PI)/c))+q;},easeOutElastic:function(p,n,q,a,b){var d=1.70158;var c=0;var o=a;if(n==0){return q;}if((n/=b)==1){return q+a;}if(!c){c=b*0.3;}if(o<Math.abs(a)){o=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/o);}return o*Math.pow(2,-10*n)*Math.sin((n*b-d)*(2*Math.PI)/c)+a+q;},easeInOutElastic:function(p,n,q,a,b){var d=1.70158;var c=0;var o=a;if(n==0){return q;}if((n/=b/2)==2){return q+a;}if(!c){c=b*(0.3*1.5);}if(o<Math.abs(a)){o=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/o);}if(n<1){return -0.5*(o*Math.pow(2,10*(n-=1))*Math.sin((n*b-d)*(2*Math.PI)/c))+q;}return o*Math.pow(2,-10*(n-=1))*Math.sin((n*b-d)*(2*Math.PI)/c)*0.5+a+q;},easeInBack:function(m,d,n,a,b,c){if(c==undefined){c=1.70158;}return a*(d/=b)*d*((c+1)*d-c)+n;},easeOutBack:function(m,d,n,a,b,c){if(c==undefined){c=1.70158;}return a*((d=d/b-1)*d*((c+1)*d+c)+1)+n;},easeInOutBack:function(m,d,n,a,b,c){if(c==undefined){c=1.70158;}if((d/=b/2)<1){return a/2*(d*d*(((c*=(1.525))+1)*d-c))+n;}return a/2*((d-=2)*d*(((c*=(1.525))+1)*d+c)+2)+n;},easeInBounce:function(d,c,k,a,b){return a-i.easing.easeOutBounce(d,b-c,0,a,b)+k;},easeOutBounce:function(d,c,k,a,b){if((c/=b)<(1/2.75)){return a*(7.5625*c*c)+k;}else{if(c<(2/2.75)){return a*(7.5625*(c-=(1.5/2.75))*c+0.75)+k;}else{if(c<(2.5/2.75)){return a*(7.5625*(c-=(2.25/2.75))*c+0.9375)+k;}else{return a*(7.5625*(c-=(2.625/2.75))*c+0.984375)+k;}}}},easeInOutBounce:function(d,c,k,a,b){if(c<b/2){return i.easing.easeInBounce(d,c*2,0,a,b)*0.5+k;}return i.easing.easeOutBounce(d,c*2-b,0,a,b)*0.5+a*0.5+k;}});})(jQuery);(function(b){b.effects.slide=function(a){return this.queue(function(){var q=b(this),r=["position","top","left"];var m=b.effects.setMode(q,a.options.mode||"show");var n=a.options.direction||"left";b.effects.save(q,r);q.show();b.effects.createWrapper(q).css({overflow:"hidden"});var p=(n=="up"||n=="down")?"top":"left";var s=(n=="up"||n=="left")?"pos":"neg";var k=a.options.distance||(p=="top"?q.outerHeight({margin:true}):q.outerWidth({margin:true}));if(m=="show"){q.css(p,s=="pos"?-k:k);}var o={};o[p]=(m=="show"?(s=="pos"?"+=":"-="):(s=="pos"?"-=":"+="))+k;q.animate(o,{queue:false,duration:a.duration,easing:a.options.easing,complete:function(){if(m=="hide"){q.hide();}b.effects.restore(q,r);b.effects.removeWrapper(q);if(a.callback){a.callback.apply(this,arguments);}q.dequeue();}});});};})(jQuery);var mobl={};mobl.provides=function(a){var d=a.split(".");var c=window;for(var b=0;b<d.length;b++){if(!c[d[b]]){c[d[b]]={};}c=c[d[b]];}};mobl.loadedFiles={};mobl.load=function(a){if(a in mobl.loadedFiles){return;}if(a.substring(a.length-4)===".css"){$("head").append('<link rel="stylesheet" type="text/css" href="'+a+'">');}else{$("head").append('<script type="text/javascript" src="'+a+'">');}mobl.loadedFiles[a]=true;};mobl.initDb=function(a){if(mobl.migration){mobl.migration.performMigration(a);}else{persistence.schemaSync(function(b){if(persistence.loadFromLocalStorage){persistence.loadFromLocalStorage();}a();});}};mobl.loadingSpan=function(){return $('<span>Loading... <img src="data:image/gif;base64,R0lGODlhCgAKAJEDAMzMzP9mZv8AAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFAAADACwAAAAACgAKAAACF5wncgaAGgJzJ647cWua4sOBFEd62VEAACH5BAUAAAMALAEAAAAIAAMAAAIKnBM2IoMDAFMQFAAh+QQFAAADACwAAAAABgAGAAACDJwHMBGofKIRItJYAAAh+QQFAAADACwAAAEAAwAIAAACChxgOBPBvpYQYxYAIfkEBQAAAwAsAAAEAAYABgAAAgoEhmPJHOGgEGwWACH5BAUAAAMALAEABwAIAAMAAAIKBIYjYhOhRHqpAAAh+QQFAAADACwEAAQABgAGAAACDJwncqi7EQYAA0p6CgAh+QQJAAADACwHAAEAAwAIAAACCpRmoxoxvQAYchQAOw==" width="10" height="10"></span>');};function addSwipeListener(b,c){var f;var j;var h;function i(){b.removeEventListener("touchmove",a);b.removeEventListener("touchend",g);f=null;startY=null;h=null;}function a(m){if(m.touches.length>1){i();}else{j=m.touches[0].pageX-f;var k=m.touches[0].pageY-startY;if(h==null){h=j;m.preventDefault();}else{if((h<0&&j>0)||(h>0&&j<0)||Math.abs(k)>15){i();}}}}function g(k){i();if(Math.abs(j)>50){k.direction=j>0?"right":"left";c(k);}}function d(k){if(k.touches.length==1){f=k.touches[0].pageX;startY=k.touches[0].pageY;b.addEventListener("touchmove",a,false);b.addEventListener("touchend",g,false);}}b.addEventListener("touchstart",d,false);}jQuery.fn.swipe=function(a){this.each(function(b,c){addSwipeListener(c,a);});};$.event.special.swipe={add:function(a){addSwipeListener(this,a);$(this).bind("dblclick",a);}};function NoClickDelay(a,b){this.element=a;this.element.addEventListener("touchstart",this,false);this.callback=b;}NoClickDelay.prototype={handleEvent:function(a){switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onTouchEnd(a);break;}},onTouchStart:function(a){this.moved=false;this.element.addEventListener("touchmove",this,false);this.element.addEventListener("touchend",this,false);this.touchStartY=a.touches[0].pageY;this.touchStartX=a.touches[0].pageX;},onTouchMove:function(c){var a=c.touches[0].pageY-this.touchStartY;var b=c.touches[0].pageX-this.touchStartX;if(Math.abs(a)>5||Math.abs(b)>5){this.moved=true;}},onTouchEnd:function(a){this.element.removeEventListener("touchmove",this,false);this.element.removeEventListener("touchend",this,false);a.preventDefault();if(!this.moved){this.callback(a);}}};$.event.special.tap={add:function(b){if(mobl.isTouchDevice()){var a=this;setTimeout(function(){new NoClickDelay(a,b);});}else{$(this).bind("click",b);}},remove:function(a){if(mobl.isIphone()||mobl.isAndroid()||mobl.isIpad()){}else{$(this).unbind("click",a);}}};$.event.special.touchdown={add:function(b){var a=$(this);setTimeout(function(){if(mobl.isTouchDevice()){a.bind("touchstart",function(c){c=c.originalEvent;if(c.touches.length===1){var d=c.touches[0];c.x=d.pageX-a.offset().left;c.y=d.pageY-a.offset().top;c.clientX=d.pageX;c.clientY=d.pageY;b(c);}});}else{a.mousedown(function(c){this.dragging=true;c.x=c.offsetX||c.layerX-a.offset().left;c.y=c.offsetY||c.layerY-a.offset().top;b(c);});}});}};$.event.special.touchdrag={add:function(b){var a=$(this);setTimeout(function(){if(mobl.isTouchDevice()){a.bind("touchmove",function(c){c=c.originalEvent;if(c.touches.length===1){var d=c.touches[0];c.x=d.pageX-a.offset().left;c.y=d.pageY-a.offset().top;c.clientX=d.pageX;c.clientY=d.pageY;b(c);}});}else{a.mousemove(function(c){if(this.dragging){c.x=c.offsetX||c.layerX-a.offset().left;c.y=c.offsetY||c.layerY-a.offset().top;b(c);}});a.mouseup(function(){this.dragging=false;});}});}};$.event.special.touchup={add:function(b){var a=$(this);setTimeout(function(){if(mobl.isTouchDevice()){a.bind("touchend",function(c){c=c.originalEvent;c.preventDefault();if(c.changedTouches.length===1){var d=c.changedTouches[0];c.x=d.pageX-a.offset().left;c.y=d.pageY-a.offset().top;c.clientX=d.pageX;c.clientY=d.pageY;b(c);}});}else{a.mouseup(function(c){c.preventDefault();this.dragging=false;c.x=c.offsetX||c.layerX-a.offset().left;c.y=c.offsetY||c.layerY-a.offset().top;b(c);});}});}};mobl.provides("draw");mobl.provides("mobl.ui");mobl.provides("mobl.ui.generic");mobl.provides("mobl.canvas");mobl.provides("mobl");mobl.provides("draw");persistence.debug=false;(function(a){a.Bool={};a.Num={};a.String={};}(mobl));(function(a){a.RegExp={fromString:function(b){return new RegExp(b);}};}(mobl));(function(a){a.isIphone=function(){return !!navigator.userAgent.match(/iPhone/i)||!!navigator.userAgent.match(/iPod/i);};a.isIpad=function(){return !!navigator.userAgent.match(/iPad/i);};a.isAndroid=function(){return !!navigator.userAgent.match(/Android/i);};a.isLandscape=function(){return window.innerHeight<window.innerWidth;};a.isPortrait=function(){return window.innerHeight>=window.innerWidth;};a.isTouchDevice=function(){return"ontouchstart" in document.documentElement;};a.isOnline=function(c){var b=new Image();b.onload=function(){c(true);};b.onerror=function(){c(false);};b.src="http://gfx2.hotmail.com/mail/uxp/w4/m4/pr014/h/s7.png?d="+escape(Date());};}(mobl));mobl.block=function(q,b,p,f,a,o){var g=$("<span>");var c=new mobl.CompSubscription();var n=$("<div>");var k=b;if(k.get()!==null){n.attr("id",k.get());c.addSub(k.addEventListener("change",function(r,s,t){n.attr("id",t);}));}c.addSub(k.rebind());var i=q;if(i.get()!==null){n.attr("class",i.get());c.addSub(i.addEventListener("change",function(r,s,t){n.attr("class",t);}));}c.addSub(i.rebind());var j=p.get();if(j!==null){c.addSub(mobl.domBind(n,"tap",j));}var h=f.get();if(h!==null){c.addSub(mobl.domBind(n,"swipe",h));}var m=$("<span>");n.append(m);c.addSub(mobl.ref(a).addEventListener("change",function(){d();}));function d(){c.addSub((a)(function(t,u){var r=$("<span>");var s=new mobl.CompSubscription();u(r);return s;return s;},function(r){var s=m;m=r.contents();s.replaceWith(m);}));}d();g.append(n);o(g);return c;return c;};(function(a){var b={};a.fetchLanguageBundle=function(c,d){$.getJSON(c,function(f){b=f;d();});};a._=function(f,c){var g=b[f]||f;var h=g.split("%%");g=h[0];for(var d=0;d<c.length;d++){g+=c[d];if(h[d+1]){g+=h[d+1];}}return g;};}(mobl));(function(a){var b=persistence.argspec;a.$=jQuery;a.sleep=function(j,k){setTimeout(k,j);};a.Dynamic=function(j){for(var k in j){if(j.hasOwnProperty(k)){this[k]=j[k];}}};a.repeat=function(j,k){setInterval(k,j);};mobl.alert=function(j){alert(j);};mobl.log=function(k,j,m){console.log(k);if(m){m();}};a.parseNum=function(j){return parseFloat(j,10);};a.escape=function(j){return escape(j);};a.add=function(k){var j=persistence.define(k._type).all();j.add(k);};mobl.now=function(){return new Date();};mobl.remove=function(k){persistence.remove(k);var j=persistence.define(k._type).all();j.triggerEvent("remove",j,k);j.triggerEvent("change",j,k);};mobl.flushDatabase=function(j){persistence.flush(j);};mobl.resetDatabase=function(j){persistence.reset(function(){persistence.schemaSync(j);});};mobl.reload=function(){persistence.flush(function(){window.location.reload();});};mobl.openUrl=function(j){location=j;};mobl.random=function(j){return Math.round(Math.random()*j);};persistence.QueryCollection.prototype.updates=function(){this.triggerEvent("change",this);};mobl.DateTime={parse:function(j){return new Date(Date.parse(j));},fromTimestamp:function(j){return new Date(j);},create:function(o,p,k,j,q,n,m){return new Date(o,p,k,j,q,n,m);}};Date.prototype.toDateString=function(){return""+(this.getMonth()+1)+"/"+this.getDate()+"/"+this.getFullYear();};mobl.Math=Math;mobl.Math.pi=function(){return Math.PI;};mobl.Math.isNaN=function(j){return isNaN(j);};mobl.JSON=JSON;mobl.formatDate=function(k){var m=(((new Date()).getTime()-k.getTime())/1000);var j=Math.floor(m/86400);if(isNaN(j)||j<0||j>=31){return;}return j===0&&(m<60&&"just now"||m<120&&"1 minute ago"||m<3600&&Math.floor(m/60)+" minutes ago"||m<7200&&"1 hour ago"||m<86400&&Math.floor(m/3600)+" hours ago")||j===1&&"Yesterday"||j<7&&j+" days ago"||j<31&&Math.ceil(j/7)+" weeks ago";};mobl.range=function(n,m){var j=[];if(n<=m){for(var k=n;k<m;k++){j.push(k);}}else{for(var k=n;k>m;k--){j.push(k);}}return j;};mobl.html=function(m,n,q){var k=$("<span>");var j=$("<span >");var o=m;j.html(m.get().toString());var p=false;o.addEventListener("change",function(r,s,t){if(p){return;}if(s===o){j.html(t.toString());}});o.rebind();k.append(j);q(k);return;};mobl.defineType=function(m,o,j){function k(r){this._data={};if(this.initialize){this.initialize();}for(var q in r){if(r.hasOwnProperty(q)){this[q]=r[q];}}}k.prototype=o?new o():new persistence.Observable();for(var n in j){if(j.hasOwnProperty(n)){(function(){var q=n;if(j[q]===null){k.prototype.__defineGetter__(q,function(){return this._data[q];});k.prototype.__defineSetter__(q,function(p){this._data[q]=p;this.triggerEvent("change",this,q,p);});}else{if(j[q][0]==="["){}}}());}}k.fromJSON=function(p){return new k(p);};return k;};persistence.entityDecoratorHooks.push(function(j){j.searchPrefix=function(k){return j.search(k,true);};});Array.prototype.list=function(j,o){var k=b.getArgs(arguments,[{name:"tx",optional:true,check:function(p){return j.executeSql;}},{name:"callback",optional:false,check:b.isCallback()}]);j=k.tx;o=k.callback;var n=[];for(var m=0;m<this.length;m++){n[m]=this[m];}o(n);};Array.prototype.insert=function(j,k){this.splice(j,0,k);};Array.prototype.get=function(j){return this[j];};Array.prototype.one=function(j){if(this.length===0){j(null);}else{j(this[0]);}};Array.prototype.contains=function(k){for(var j=0;j<this.length;j++){if(this[j]===k){return true;}}return false;};Array.prototype.remove=function(k){for(var j=0;j<this.length;j++){if(this[j]===k){this.splice(j,1);return;}}};Array.prototype.addEventListener=function(){};mobl.dummyMapper=function(j,k){k(j);};mobl.Map=function(){this.data={};};mobl.Map.prototype.set=function(m,j){this.data[m]=j;};mobl.Map.prototype.get=function(j){return this.data[j];};mobl.Map.prototype.keys=function(){var j=[];for(var k in this.data){if(this.data.hasOwnProperty(k)){j.push(k);}}return j;};mobl.screenStack=[];mobl.innerHeight=false;setTimeout(function(){if(mobl.isAndroid){mobl.innerHeight=window.innerHeight;}},200);function g(){var n=$("div#scrollwrapper");if(n.length>0){var k=mobl.innerHeight?mobl.innerHeight:window.innerHeight;k-=$("#footer:visible").height();k-=$("#tabbar:visible").height();n.height(k);}var o=$("div#scrollwrapper div#content");for(var m=0;m<o.length;m++){var j=o.eq(m).data("scroller");if(j){j.refresh();}else{}}}mobl.delayedUpdateScrollers=function(){setTimeout(g,200);};if(!mobl.isAndroid){$(window).resize(g);}$(function(){setInterval(function(){persistence.flush();if(persistence.saveToLocalStorage){persistence.saveToLocalStorage();}},2500);});mobl.postCallHooks=[];mobl.contextStack=[];if(mobl.contextStack.length===0){mobl.contextStack.push([{screens:[],dom:null,id:"_top"}]);}mobl.findDeepestVisibleContext=function(n){var j=mobl.contextStack.length-1;while(j>=0){var m=mobl.contextStack[j];for(var k=0;k<m.length;k++){if(!m[k].dom){m[k].dom=$("body");}if(m[k].dom.is(":visible")&&(!n||n===m[k].id)){return m[k];}}j--;}};var c=250;a.animations={};a.animations.slide=function(k,j,m,n){j.css("-webkit-transform","translate3d("+(m?"100%":"-100%")+",0px,0px)");j.css("-webkit-transition-duration",c+"ms");j.show();setTimeout(function(){j.css({"-webkit-transition-duration":c+"ms","-webkit-transition-timing-function":"ease-in-out"});k.css({"-webkit-transition-duration":c+"ms","-webkit-transition-timing-function":"ease-in-out"});j.css("-webkit-transform","translate3d(0px,0px,0px)");k.css("-webkit-transform","translate3d("+(m?"-100%":"100%")+",0px,0px)");k.bind("webkitTransitionEnd",function(){k.unbind("webkitTransitionEnd");k.hide();j.css({"-webkit-transition-duration":null,"-webkit-transition-timing-function":null});k.css({"-webkit-transition-duration":null,"-webkit-transition-timing-function":null});n();});},5);};a.animations.fade=function(k,j,m,n){j.fadeIn(300);k.fadeOut(300,n);};a.animations.none=function(k,j,m,n){j.show();k.hide();n();};a.getCurrentScreen=function(){var k=mobl.findDeepestVisibleContext();for(var j=0;j<k.screens.length;j++){if(k.screens[j].dom.is(":visible")){return k.screens[j];}}return null;};var i=null;setInterval(function(){if(location.hash!==i){i=location.hash;var k=mobl.findDeepestVisibleContext();if(k&&k.initialElements){var j=k.screens;if(j.length>1||(k.initialElements.length>0&&j.length>0)){j[j.length-1].callbackFn(null);}}}},250);a.screenTransitionLock=null;a.acquireScreenTransitionLock=function(j){if(a.screenTransitionLock===j){return false;}a.screenTransitionLock=j;return true;};$("html").bind("screenTransitionEnded",function(){a.screenTransitionLock=null;});a.call=function(m,t,u){if(!a.acquireScreenTransitionLock(m)){return false;}var n=t[t.length-3].get();var j=t[t.length-2].get();var r=t[t.length-1].get();t.splice(t.length-3,3);var k={name:m,args:t,callback:u,div:m.replace(/\./g,"__"),dom:$("<div>")};if(!m.match(/\.root$/)){location.hash=""+Math.round(Math.random()*99999);}i=location.hash;var w=mobl.findDeepestVisibleContext(r);if(!w){alert("Error: no matching visible screen context found");}w.screens.push(k);var s=function(){if(!a.acquireScreenTransitionLock(m)){return false;}k.subs.unsubscribe();w.screens.pop();if(k.dom.find("div.screenContext").length>0){mobl.contextStack.pop();}mobl.delayedUpdateScrollers();var x;if(w.screens.length>0){var y=w.screens[w.screens.length-1];x=y.dom;scrollTo(0,y.pageYOffset);}else{x=w.initialElements;scrollTo(0,0);}a.animations[j](k.dom,x,false,function(){k.dom.remove();x.trigger("screenTransitionEnded");});if(u){u.apply(null,arguments);}};k.callbackFn=s;var o=m.split(".");var q=window;for(var p=0;p<o.length;p++){q=q[o[p]];}var v=q;k.subs=v.apply(null,t.concat([function(A){A.attr("id",k.div);A.css("position","absolute").css("top","0").css("left","0px").css("width","100%");k.dom=A;if(w.screens.length>1){var B=w.screens[w.screens.length-2];B.pageYOffset=window.pageYOffset;A.hide();A.prependTo(w.dom);a.animations[j](B.dom,A,true,function(){A.trigger("screenTransitionEnded");});scrollTo(0,0);}else{if(w.dom.selector==="body"){w.initialElements=w.dom.find("div.initialElements");A.prependTo(w.dom);A.show();w.initialElements.hide();A.trigger("screenTransitionEnded");}else{w.initialElements=w.dom.find("div.initialElements");A.hide();A.prependTo(w.dom);a.animations[j](w.initialElements,A,true,function(){A.trigger("screenTransitionEnded");});scrollTo(0,0);}}var C=A.find("div.screenContext");if(C.length>0){var y=[];for(var z=0;z<C.length;z++){y.push({screens:[],dom:C.eq(z),id:C.eq(z).attr("id")});}mobl.contextStack.push(y);}mobl.postCallHooks.forEach(function(D){D(A);});if(n){var x=w.screens[w.screens.length-2];x.dom.remove();w.screens.splice(w.screens.length-2,1);}},s]));};mobl.ref=function(k,m){if(m){for(var j=0;j<k.childRefs.length;j++){if(k.childRefs[j].prop===m){return k.childRefs[j];}}}return new mobl.Reference(k,m);};function f(j,k){if(k){return $(j).scope().get(k);}else{return $(j).scope();}}mobl.stringTomobl__Num=function(j){return parseFloat(j,10);};mobl.stringTomobl__String=function(j){return j;};mobl.conditionalDef=function(k,j,m){return function(){if(j()){return m.apply(null,arguments);}else{return k.apply(null,arguments);}};};mobl.stringTomobl__DateTime=function(j){return new Date(j);};mobl.encodeUrlObj=function(n){var m=[];for(var j in n){if(n.hasOwnProperty(j)){m.push(encodeURI(j)+"="+encodeURI(n[j]));}}return"?"+m.join("&");};function h(j,m,k,n){switch(j){case"+":n(m+k);break;case"-":n(m-k);break;case"*":n(m*k);break;case"/":n(m/k);break;case"%":n(m%k);break;}}mobl.proxyUrl=function(m,j,k){if(j&&k){return"/proxy.php?user="+j+"&pwd="+k+"&proxy_url="+encodeURIComponent(m);}else{return"/proxy.php?proxy_url="+encodeURIComponent(m);}};mobl.remoteCollection=function(m,k,j){return{addEventListener:function(){},list:function(n,o){$.ajax({url:mobl.proxyUrl(m),datatype:k,error:function(q,r,p){console.log(r);console.log(p);o([]);},success:function(p){o(j(p));}});}};};mobl.ObservableObject=function(j){this._data=j;this.subscribers={};var k=this;for(var m in j){if(j.hasOwnProperty(m)){(function(){var n=m;k.__defineGetter__(n,function(){return this._data[n];});k.__defineSetter__(n,function(o){this._data[n]=o;this.triggerEvent("change",this,n,o);});}());}}};mobl.ObservableObject.prototype=new persistence.Observable();mobl.ObservableObject.prototype.toJSON=function(){var k={};for(var j in this._data){if(this._data.hasOwnProperty(j)){k[j]=this._data[j];}}return k;};function d(j){console.log(j);}mobl.implementInterface=function(j,n,k){for(var m=0;m<k.length;m++){n[k[m]]=j[k[m]];}};(function(){function n(){for(var q=0;q<arguments.length;q++){this["_"+(q+1)]=arguments[q];}this.subscribers={};this.length=arguments.length;}n.prototype=new persistence.Observable();n.prototype.toJSON=function(){var r={};for(var q=0;q<this.length;q++){r["_"+(q+1)]=this["_"+(q+1)];}return r;};var p=[];function o(){var q=[];for(var t=0;t<p.length;t++){var u=p[t];var v=false;for(var s=0;s<q.length;s++){var r=q[s];if(u.obj===r.obj&&u.eventType===r.eventType){v=true;break;}}if(!v){q.push(u);}}p=[];for(t=0;t<q.length;t++){var u=q[t];u.fn.apply(null,u.args);}}function m(q){this.subscriptions=[];this.name=q;}m.prototype.addSub=function(r){if(r){if(r.node&&(r.eventType.indexOf("change")!==-1||r.eventType.indexOf("key")!==-1)){var q=r.fn;r.unsubscribe();r=mobl.domBind(r.node,r.eventType,function(){p.push({obj:r.node,eventType:r.eventType,fn:q,args:Array.prototype.slice.call(arguments)});if(p.length===1){setTimeout(o,300);}});}else{if(r.obj&&r.obj._filter&&(r.eventType.indexOf("change")!==-1||r.eventType.indexOf("key")!==-1)){var q=r.fn;r.unsubscribe();r=r.obj.addEventListener(r.eventType,function(){p.push({obj:r.obj,eventType:r.eventType,fn:q,args:Array.prototype.slice.call(arguments)});if(p.length===1){setTimeout(o,300);}});}}this.subscriptions.push(r);}};m.prototype.unsubscribe=function(){this.subscriptions.forEach(function(q){q.unsubscribe();});this.subscriptions=[];};function k(s,q,r){this.node=s;this.eventType=q;this.fn=r;}k.prototype.unsubscribe=function(){this.node.unbind(this.eventType,this.fn);};k.prototype.equals=function(q){return this.node===q.node&&this.eventType===q.eventType&&this.fn===q.fn;};mobl.domBind=function(s,q,r){s.bind(q,r);return new k(s,q,r);};function j(q,r){this.ref=q;this.prop=r;this.childRefs=[];if(r){q.childRefs.push(this);}this.subscribers={};}j.prototype=new persistence.Observable();j.prototype.oldAddListener=j.prototype.addEventListener;j.prototype.addEventListener=function(r,t){if(r==="change"&&this.prop!==undefined&&this.ref.get()&&this.ref.get().addEventListener){var s=this;var q=new m();q.addSub(this.ref.get().addEventListener("change",function(u,u,w,v){if(w===s.prop){t(r,s,v);}}));q.addSub(this.oldAddListener(r,t));return q;}else{return this.oldAddListener(r,t);}};j.prototype.addSetListener=function(r){var q=this;if(this.ref.addEventListener){return this.ref.addEventListener("change",function(s,s,u,t){if(u===q.prop){r(eventType,q,t);}});}};j.prototype.get=function(){if(this.prop===undefined){return this.ref;}if(this.ref.get){return this.ref.get()[this.prop];}};j.prototype.set=function(s){if(this.prop===undefined){this.ref=s;this.triggerEvent("change",this,s);}else{this.ref.get()[this.prop]=s;this.triggerEvent("change",this,s);}var q=this.childRefs.slice(0);for(var r=0;r<q.length;r++){var t=q[r];t.rebind();t.triggerEvent("change",t,t.get());}};j.prototype.rebind=function(){var t=this;var s=new mobl.CompSubscription();if(this.prop!==undefined){if(this.ref.get().addEventListener){s.addSub(this.ref.get().addEventListener("change",function(u,u,w,v){if(w===t.prop){t.triggerEvent("change",t,v);}}));}}var q=this.childRefs.slice(0);for(var r=0;r<q.length;r++){s.addSub(q[r].rebind());}return s;};mobl.Tuple=n;mobl.Reference=j;mobl.CompSubscription=m;}());}(mobl));mobl.Window=mobl.defineType("mobl.Window",null,{innerWidth:null,innerHeight:null});mobl.window=mobl.ref(new mobl.Window({}));(function(a){a.window.get().innerWidth=window.innerWidth;a.window.get().innerHeight=window.innerHeight;window.onresize=function(){mobl.window.get().innerWidth=window.innerWidth;mobl.window.get().innerHeight=window.innerHeight;};}(mobl));mobl.allInputValid=mobl.ref(true);(function(a){a.setValidationError=function(g,c){var b=mobl.getCurrentScreen();b.validations=b.validations||{};b.validations[g]=c;var f=true;for(var d in b.validations){if(b.validations.hasOwnProperty(d)){if(!b.validations[d]){f=false;}}}a.allInputValid.set(f);};}(mobl));(function(a){mobl.canvas.canvas=function(j,f,t,o,i,u,c,b,s){var d=$("<span>");var h=$("<canvas >");j.set(h[0].getContext("2d"));var m=f;if(m.get()!==null){h.attr("width",m.get());m.addEventListener("change",function(g,v,w){if(v===m){h.attr("width",w);}else{console.log("Garbage!");}});}m.rebind();var k=t;if(k.get()!==null){h.attr("height",k.get());k.addEventListener("change",function(g,v,w){if(v===k){h.attr("height",w);}else{console.log("Garbage!");}});}k.rebind();var r=o.get();if(r!==null){h.bind("touchdown",r);}var q=i.get();if(q!==null){h.bind("touchdrag",q);}var p=u.get();if(p!==null){h.bind("touchup",p);}var n=c.get();if(n!==null){h.bind("keyup",n);}d.append(h);s(d);return;};mobl.canvas.loadImage=function(c){var b=new Image();b.src=c;return b;};}(mobl.canvas));mobl.ui.generic.headerStyle="mobl__ui__generic__headerStyle";mobl.ui.generic.headerContainerStyle="mobl__ui__generic__headerContainerStyle";mobl.ui.generic.headerTextStyle="mobl__ui__generic__headerTextStyle";mobl.ui.generic.header=function(p,b,y,q,g){var r=$("<span>");var t=new mobl.CompSubscription();var a=$("<div>");var k=mobl.ref(mobl.ui.generic.headerStyle);if(k.get()!==null){a.attr("class",k.get());t.addSub(k.addEventListener("change",function(z,A,B){a.attr("class",B);}));}t.addSub(k.rebind());var u=y.get();if(u!==null){t.addSub(mobl.domBind(a,"tap",u));}var i=mobl.ref(b.get()?"position:fixed;":null);if(i.get()!==null){a.attr("style",i.get());t.addSub(i.addEventListener("change",function(z,A,B){a.attr("style",B);}));t.addSub(b.addEventListener("change",function(){a.attr("style",b.get()?"position:fixed;":null);}));}t.addSub(i.rebind());var w=$("<div>");var m=mobl.ref(mobl.ui.generic.headerContainerStyle);if(m.get()!==null){w.attr("class",m.get());t.addSub(m.addEventListener("change",function(z,A,B){w.attr("class",B);}));}t.addSub(m.rebind());var v=$("<div>");var o=p;v.text(""+o.get());var d=false;t.addSub(o.addEventListener("change",function(z,A,B){if(d){return;}v.text(""+B);}));t.addSub(o.rebind());var n=mobl.ref(mobl.ui.generic.headerTextStyle);if(n.get()!==null){v.attr("class",n.get());t.addSub(n.addEventListener("change",function(z,A,B){v.attr("class",B);}));}t.addSub(n.rebind());w.append(v);a.append(w);var s=$("<span>");a.append(s);t.addSub(mobl.ref(q).addEventListener("change",function(){j();}));function j(){t.addSub((q)(function(B,C){var z=$("<span>");var A=new mobl.CompSubscription();C(z);return A;return A;},function(z){var A=s;s=z.contents();A.replaceWith(s);}));}j();r.append(a);var x=$("<span>");r.append(x);var c=new mobl.CompSubscription();t.addSub(c);var h;var f=function(){var A=b.get();if(h===A){return;}h=A;var z=c;z.unsubscribe();x.empty();if(A){var B=$("<div>");B.attr("id","hello");B.attr("style","height: 2.9em;");x.append(B);}else{}};f();t.addSub(b.addEventListener("change",function(){f();}));g(r);return t;return t;};mobl.ui.generic.buttonStyle="mobl__ui__generic__buttonStyle";mobl.ui.generic.buttonPushedStyle="mobl__ui__generic__buttonPushedStyle";mobl.ui.generic.buttonStyle="mobl__ui__generic__buttonStyle";mobl.ui.generic.buttonPushedStyle="mobl__ui__generic__buttonPushedStyle";mobl.ui.generic.button=function(r,b,d,s,a,q){var m=$("<span>");var j=new mobl.CompSubscription();var h=mobl.ref(false);var c=$("<span>");var g=mobl.ref(h.get()?d.get():b.get());if(g.get()!==null){c.attr("class",g.get());j.addSub(g.addEventListener("change",function(t,u,v){c.attr("class",v);}));j.addSub(h.addEventListener("change",function(){c.attr("class",h.get()?d.get():b.get());}));j.addSub(d.addEventListener("change",function(){c.attr("class",h.get()?d.get():b.get());}));j.addSub(b.addEventListener("change",function(){c.attr("class",h.get()?d.get():b.get());}));}j.addSub(g.rebind());var p=function(u,v){if(u&&u.stopPropagation){u.stopPropagation();}var t=u.preventDefault();var t=true;h.set(t);if(v&&v.apply){v();}return;};if(p!==null){j.addSub(mobl.domBind(c,"touchdown",p));}var n=function(u,v){if(u&&u.stopPropagation){u.stopPropagation();}var t=u.y<0||u.y>c.outerHeight()||u.x<0||u.x>c.outerWidth();if(t){var t=false;h.set(t);if(v&&v.apply){v();}return;}else{if(v&&v.apply){v();}return;}};if(n!==null){j.addSub(mobl.domBind(c,"touchdrag",n));}var k=function(u,w){if(u&&u.stopPropagation){u.stopPropagation();}var t=h.get();if(t){var t=false;h.set(t);function v(y){var x=y;if(w&&w.apply){w();}return;}var t=s.get()(u,v);if(t!==undefined){v(t);}}else{if(w&&w.apply){w();}return;}};if(k!==null){j.addSub(mobl.domBind(c,"touchup",k));}var i=function(u,v){if(u&&u.stopPropagation){u.stopPropagation();}var t=h.get();if(t){var t=false;h.set(t);if(v&&v.apply){v();}return;}else{if(v&&v.apply){v();}return;}};if(i!==null){j.addSub(mobl.domBind(c,"mouseout",i));}var f=r;c.text(""+f.get());var o=false;j.addSub(f.addEventListener("change",function(t,u,v){if(o){return;}c.text(""+v);}));j.addSub(f.rebind());m.append(c);q(m);return j;return j;};mobl.ui.generic.contextMenuStyle="mobl__ui__generic__contextMenuStyle";mobl.ui.generic.buttonStyle="mobl__ui__generic__buttonStyle";mobl.ui.generic.buttonPushedStyle="mobl__ui__generic__buttonPushedStyle";(function(a){a.floatBox=function(j,n,c,f,b,o){var i=$("<span>");var m=$('<div style="position: absolute;">');var h=$("<span>");m.append(h);mobl.ref(b).addEventListener("change",function(){k();});function k(){(b)(function(q,r){var p=$("<span>");r(p);return;},function(p){var q=h;h=p.contents();q.replaceWith(h);});}k();i.append(m);var g=m;if(j.get()!==null){g.css("top",""+j.get()+"px");}if(n.get()!==null){g.css("right",""+n.get()+"px");}if(c.get()!==null){g.css("top",""+(window.pageYOffset+window.innerHeight-g.outerHeight()-c.get())+"px");}if(f.get()!==null){g.css("left",""+f.get()+"px");}function d(){if(j.get()!==null){g.css("top",""+(window.pageYOffset+j.get())+"px");}if(c.get()!==null){g.css("top",""+(window.pageYOffset+window.innerHeight-g.outerHeight()-c.get())+"px");}}$(window).bind("scroll",d);$(window).bind("resize",d);o(i);return;};}(mobl.ui.generic));(function(a){setTimeout(function(){scrollTo(0,-1);},250);a.scrollUp=function(){scrollTo(0,0);};a.setupScrollers=function(){setTimeout(function(){var d=$("div.scroller");for(var c=0;c<d.length;c++){var b=d.eq(c);if(!b.data("scroller")){b.data("scroller",new TouchScroll(b[0],{elastic:true}));}}},250);};}(mobl.ui.generic));draw.drawPoint=function(d,b,f,a,h){var c=this;d.fillStyle=b;d.beginPath();d.arc(a,h,f,0,3.1415*2,false);d.closePath();d.fill();};draw.clear=function(b){var a=this;b.fillStyle="#f0f0f0";b.fillRect(0,0,mobl.window.get().innerWidth,mobl.window.get().innerHeight);};draw.colorSquare=function(i,d,a,j){var f=$("<span>");var c=new mobl.CompSubscription();var g=$("<div>");var h=mobl.ref("display: inline-block; background-color: "+i.get()+"; width: 30px; height: 30px; border: 1px solid #000;");if(h.get()!==null){g.attr("style",h.get());c.addSub(h.addEventListener("change",function(k,m,n){g.attr("style",n);}));c.addSub(i.addEventListener("change",function(){g.attr("style","display: inline-block; background-color: "+i.get()+"; width: 30px; height: 30px; border: 1px solid #000;");}));}c.addSub(h.rebind());var b=function(m,n){if(m&&m.stopPropagation){m.stopPropagation();}var k=i.get();d.set(k);if(n&&n.apply){n();}return;};if(b!==null){c.addSub(mobl.domBind(g,"tap",b));}f.append(g);j(f);return c;return c;};draw.colorPalet=mobl.ref(["black","white","blue","yellow","GoldenRod","deepskyblue","green","red","purple","#f0f0f0"]);draw.root=function(o,p){var b=$("<div>");var c=new mobl.CompSubscription();var j=mobl.ref(null);var d=mobl.ref("black");var i=mobl.ref(10);var k=$("<span>");b.append(k);c.addSub((mobl.ui.generic.header)(mobl.ref("mobl draw"),mobl.ref(false),mobl.ref(null),function(q,v){var g=$("<span>");var u=new mobl.CompSubscription();var s=function(x,y){if(x&&x.stopPropagation){x.stopPropagation();}var w=draw.clear(j.get());if(y&&y.apply){y();}return;};var t=mobl.ref(s);var r=$("<span>");g.append(r);u.addSub((mobl.ui.generic.button)(mobl.ref("Clear"),mobl.ref(mobl.ui.generic.buttonStyle),mobl.ref(mobl.ui.generic.buttonPushedStyle),t,function(w,z){var y=$("<span>");var x=new mobl.CompSubscription();z(y);return x;return x;},function(w){var x=r;r=w.contents();x.replaceWith(r);}));v(g);return u;return u;},function(g){var q=k;k=g.contents();q.replaceWith(k);}));var h=$("<span>");b.append(h);c.addSub((mobl.block)(mobl.ref(null),mobl.ref(null),mobl.ref(null),mobl.ref(null),function(s,w){var v=$("<span>");var u=new mobl.CompSubscription();var t=mobl.loadingSpan();v.append(t);var r;var g=new mobl.CompSubscription();u.addSub(g);var q=function(){var x=g;r=draw.colorPalet.get();r.list(function(y){t.empty();for(var z=0;z<y.length;z++){(function(){var A=$("<span>");t.append(A);var D;D=mobl.ref(mobl.ref(y),z);var C=$("<span>");A.append(C);x.addSub((draw.colorSquare)(D,d,function(E,H){var G=$("<span>");var F=new mobl.CompSubscription();H(G);return F;return F;},function(E){var F=C;C=E.contents();F.replaceWith(C);}));var B=A;A=A.contents();B.replaceWith(A);}());}mobl.delayedUpdateScrollers();x.addSub(r.addEventListener("change",function(){g.unsubscribe();q(true);}));x.addSub(draw.colorPalet.addEventListener("change",function(){g.unsubscribe();q(true);}));});};q();w(v);return u;return u;},function(g){var q=h;h=g.contents();q.replaceWith(h);}));var a=function(g,q){if(g&&g.stopPropagation){g.stopPropagation();}g.preventDefault(function(s){var r=s;var s=draw.drawPoint(j.get(),d.get(),i.get(),g.x,g.y);if(q&&q.apply){q();}return;});};var m=mobl.ref(a);var a=function(g,q){if(g&&g.stopPropagation){g.stopPropagation();}g.preventDefault(function(s){var r=s;var s=draw.drawPoint(j.get(),d.get(),i.get(),g.x,g.y);if(q&&q.apply){q();}return;});};var n=mobl.ref(a);var f=$("<span>");b.append(f);c.addSub((mobl.canvas.canvas)(j,mobl.ref(mobl.window,"innerWidth"),mobl.ref(mobl.window,"innerHeight"),n,m,mobl.ref(null),mobl.ref(null),function(g,s){var r=$("<span>");var q=new mobl.CompSubscription();s(r);return q;return q;},function(g){var q=f;f=g.contents();q.replaceWith(f);}));o(b);return c;return c;};